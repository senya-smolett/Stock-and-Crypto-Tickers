{"ast":null,"code":"'use strict'; //  ---------------------------------------------------------------------------\n\nconst Exchange = require('./base/Exchange');\n\nconst {\n  ExchangeError,\n  ArgumentsRequired,\n  AuthenticationError,\n  OrderNotFound,\n  InsufficientFunds,\n  PermissionDenied,\n  BadRequest,\n  RateLimitExceeded,\n  InvalidOrder\n} = require('./base/errors'); //  ---------------------------------------------------------------------------\n\n\nmodule.exports = class bigone extends Exchange {\n  describe() {\n    return this.deepExtend(super.describe(), {\n      'id': 'bigone',\n      'name': 'BigONE',\n      'countries': ['CN'],\n      'version': 'v3',\n      'rateLimit': 1200,\n      // 500 request per 10 minutes\n      'has': {\n        'cancelAllOrders': true,\n        'cancelOrder': true,\n        'createOrder': true,\n        'fetchBalance': true,\n        'fetchClosedOrders': true,\n        'fetchDepositAddress': true,\n        'fetchDeposits': true,\n        'fetchMarkets': true,\n        'fetchMyTrades': true,\n        'fetchOHLCV': true,\n        'fetchOpenOrders': true,\n        'fetchOrder': true,\n        'fetchOrders': true,\n        'fetchOrderBook': true,\n        'fetchTicker': true,\n        'fetchTickers': true,\n        'fetchTime': true,\n        'fetchTrades': true,\n        'fetchWithdrawals': true,\n        'withdraw': true\n      },\n      'timeframes': {\n        '1m': 'min1',\n        '5m': 'min5',\n        '15m': 'min15',\n        '30m': 'min30',\n        '1h': 'hour1',\n        '3h': 'hour3',\n        '4h': 'hour4',\n        '6h': 'hour6',\n        '12h': 'hour12',\n        '1d': 'day1',\n        '1w': 'week1',\n        '1M': 'month1'\n      },\n      'hostname': 'big.one',\n      // or 'bigone.com'\n      'urls': {\n        'logo': 'https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg',\n        'api': {\n          'public': 'https://{hostname}/api/v3',\n          'private': 'https://{hostname}/api/v3/viewer'\n        },\n        'www': 'https://big.one',\n        'doc': 'https://open.big.one/docs/api.html',\n        'fees': 'https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy',\n        'referral': 'https://b1.run/users/new?code=D3LLBVFT'\n      },\n      'api': {\n        'public': {\n          'get': ['ping', 'asset_pairs', 'asset_pairs/{asset_pair_name}/depth', 'asset_pairs/{asset_pair_name}/trades', 'asset_pairs/{asset_pair_name}/ticker', 'asset_pairs/{asset_pair_name}/candles', 'asset_pairs/tickers']\n        },\n        'private': {\n          'get': ['accounts', 'fund/accounts', 'assets/{asset_symbol}/address', 'orders', 'orders/{id}', 'orders/multi', 'trades', 'withdrawals', 'deposits'],\n          'post': ['orders', 'orders/{id}/cancel', 'orders/cancel', 'withdrawals', 'transfer']\n        }\n      },\n      'fees': {\n        'trading': {\n          'maker': 0.1 / 100,\n          'taker': 0.1 / 100\n        },\n        'funding': {\n          // HARDCODING IS DEPRECATED THE FEES BELOW ARE TO BE REMOVED SOON\n          'withdraw': {\n            'BTC': 0.001,\n            'ETH': 0.005,\n            'EOS': 0.01,\n            'ZEC': 0.003,\n            'LTC': 0.01,\n            'QTUM': 0.01,\n            // 'INK': 0.01 QTUM,\n            // 'BOT': 0.01 QTUM,\n            'ETC': 0.01,\n            'GAS': 0.0,\n            'BTS': 1.0,\n            'GXS': 0.1,\n            'BITCNY': 19.0\n          }\n        }\n      },\n      'exceptions': {\n        'exact': {\n          '10001': BadRequest,\n          // syntax error\n          '10005': ExchangeError,\n          // internal error\n          \"Amount's scale must greater than AssetPair's base scale\": InvalidOrder,\n          '10007': BadRequest,\n          // parameter error, {\"code\":10007,\"message\":\"Amount's scale must greater than AssetPair's base scale\"}\n          '10011': ExchangeError,\n          // system error\n          '10013': OrderNotFound,\n          // {\"code\":10013,\"message\":\"Resource not found\"}\n          '10014': InsufficientFunds,\n          // {\"code\":10014,\"message\":\"Insufficient funds\"}\n          '10403': PermissionDenied,\n          // permission denied\n          '10429': RateLimitExceeded,\n          // too many requests\n          '40004': AuthenticationError,\n          // {\"code\":40004,\"message\":\"invalid jwt\"}\n          '40103': AuthenticationError,\n          // invalid otp code\n          '40104': AuthenticationError,\n          // invalid asset pin code\n          '40301': PermissionDenied,\n          // {\"code\":40301,\"message\":\"Permission denied withdrawal create\"}\n          '40302': ExchangeError,\n          // already requested\n          '40601': ExchangeError,\n          // resource is locked\n          '40602': ExchangeError,\n          // resource is depleted\n          '40603': InsufficientFunds,\n          // insufficient resource\n          '40120': InvalidOrder,\n          // Order is in trading\n          '40121': InvalidOrder // Order is already cancelled or filled\n\n        },\n        'broad': {}\n      },\n      'commonCurrencies': {\n        'MBN': 'Mobilian Coin',\n        'ONE': 'BigONE Token'\n      }\n    });\n  }\n\n  async fetchMarkets(params = {}) {\n    const response = await this.publicGetAssetPairs(params); //\n    //     {\n    //         \"code\":0,\n    //         \"data\":[\n    //             {\n    //                 \"id\":\"01e48809-b42f-4a38-96b1-c4c547365db1\",\n    //                 \"name\":\"PCX-BTC\",\n    //                 \"quote_scale\":7,\n    //                 \"quote_asset\":{\n    //                     \"id\":\"0df9c3c3-255a-46d7-ab82-dedae169fba9\",\n    //                     \"symbol\":\"BTC\",\n    //                     \"name\":\"Bitcoin\",\n    //                 },\n    //                 \"base_asset\":{\n    //                     \"id\":\"405484f7-4b03-4378-a9c1-2bd718ecab51\",\n    //                     \"symbol\":\"PCX\",\n    //                     \"name\":\"ChainX\",\n    //                 },\n    //                 \"base_scale\":3,\n    //                 \"min_quote_value\":\"0.0001\",\n    //             },\n    //         ]\n    //     }\n    //\n\n    const markets = this.safeValue(response, 'data', []);\n    const result = [];\n\n    for (let i = 0; i < markets.length; i++) {\n      const market = markets[i];\n      const id = this.safeString(market, 'name');\n      const uuid = this.safeString(market, 'id');\n      const baseAsset = this.safeValue(market, 'base_asset', {});\n      const quoteAsset = this.safeValue(market, 'quote_asset', {});\n      const baseId = this.safeString(baseAsset, 'symbol');\n      const quoteId = this.safeString(quoteAsset, 'symbol');\n      const base = this.safeCurrencyCode(baseId);\n      const quote = this.safeCurrencyCode(quoteId);\n      const symbol = base + '/' + quote;\n      const precision = {\n        'amount': this.safeInteger(market, 'base_scale'),\n        'price': this.safeInteger(market, 'quote_scale')\n      };\n      const minCost = this.safeInteger(market, 'min_quote_value');\n      const entry = {\n        'id': id,\n        'uuid': uuid,\n        'symbol': symbol,\n        'base': base,\n        'quote': quote,\n        'baseId': baseId,\n        'quoteId': quoteId,\n        'active': true,\n        'precision': precision,\n        'limits': {\n          'amount': {\n            'min': Math.pow(10, -precision['amount']),\n            'max': undefined\n          },\n          'price': {\n            'min': Math.pow(10, -precision['price']),\n            'max': undefined\n          },\n          'cost': {\n            'min': minCost,\n            'max': undefined\n          }\n        },\n        'info': market\n      };\n      result.push(entry);\n    }\n\n    return result;\n  }\n\n  async loadMarkets(reload = false, params = {}) {\n    const markets = await super.loadMarkets(reload, params);\n    let marketsByUuid = this.safeValue(this.options, 'marketsByUuid');\n\n    if (marketsByUuid === undefined || reload) {\n      marketsByUuid = {};\n\n      for (let i = 0; i < this.symbols.length; i++) {\n        const symbol = this.symbols[i];\n        const market = this.markets[symbol];\n        const uuid = this.safeString(market, 'uuid');\n        marketsByUuid[uuid] = market;\n      }\n\n      this.options['marketsByUuid'] = marketsByUuid;\n    }\n\n    return markets;\n  }\n\n  parseTicker(ticker, market = undefined) {\n    //\n    //     {\n    //         \"asset_pair_name\":\"ETH-BTC\",\n    //         \"bid\":{\"price\":\"0.021593\",\"order_count\":1,\"quantity\":\"0.20936\"},\n    //         \"ask\":{\"price\":\"0.021613\",\"order_count\":1,\"quantity\":\"2.87064\"},\n    //         \"open\":\"0.021795\",\n    //         \"high\":\"0.021795\",\n    //         \"low\":\"0.021471\",\n    //         \"close\":\"0.021613\",\n    //         \"volume\":\"117078.90431\",\n    //         \"daily_change\":\"-0.000182\"\n    //     }\n    //\n    const marketId = this.safeString(ticker, 'asset_pair_name');\n    const symbol = this.safeSymbol(marketId, market, '-');\n    const timestamp = undefined;\n    const close = this.safeFloat(ticker, 'close');\n    const bid = this.safeValue(ticker, 'bid', {});\n    const ask = this.safeValue(ticker, 'ask', {});\n    return {\n      'symbol': symbol,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'high': this.safeFloat(ticker, 'high'),\n      'low': this.safeFloat(ticker, 'low'),\n      'bid': this.safeFloat(bid, 'price'),\n      'bidVolume': this.safeFloat(bid, 'quantity'),\n      'ask': this.safeFloat(ask, 'price'),\n      'askVolume': this.safeFloat(ask, 'quantity'),\n      'vwap': undefined,\n      'open': this.safeFloat(ticker, 'open'),\n      'close': close,\n      'last': close,\n      'previousClose': undefined,\n      'change': this.safeFloat(ticker, 'daily_change'),\n      'percentage': undefined,\n      'average': undefined,\n      'baseVolume': this.safeFloat(ticker, 'volume'),\n      'quoteVolume': undefined,\n      'info': ticker\n    };\n  }\n\n  async fetchTicker(symbol, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id']\n    };\n    const response = await this.publicGetAssetPairsAssetPairNameTicker(this.extend(request, params)); //\n    //     {\n    //         \"code\":0,\n    //         \"data\":{\n    //             \"asset_pair_name\":\"ETH-BTC\",\n    //             \"bid\":{\"price\":\"0.021593\",\"order_count\":1,\"quantity\":\"0.20936\"},\n    //             \"ask\":{\"price\":\"0.021613\",\"order_count\":1,\"quantity\":\"2.87064\"},\n    //             \"open\":\"0.021795\",\n    //             \"high\":\"0.021795\",\n    //             \"low\":\"0.021471\",\n    //             \"close\":\"0.021613\",\n    //             \"volume\":\"117078.90431\",\n    //             \"daily_change\":\"-0.000182\"\n    //         }\n    //     }\n    //\n\n    const ticker = this.safeValue(response, 'data', {});\n    return this.parseTicker(ticker, market);\n  }\n\n  async fetchTickers(symbols = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {};\n\n    if (symbols !== undefined) {\n      const ids = this.marketIds(symbols);\n      request['pair_names'] = ids.join(',');\n    }\n\n    const response = await this.publicGetAssetPairsTickers(this.extend(request, params)); //\n    //     {\n    //         \"code\":0,\n    //         \"data\":[\n    //             {\n    //                 \"asset_pair_name\":\"PCX-BTC\",\n    //                 \"bid\":{\"price\":\"0.000234\",\"order_count\":1,\"quantity\":\"0.518\"},\n    //                 \"ask\":{\"price\":\"0.0002348\",\"order_count\":1,\"quantity\":\"2.348\"},\n    //                 \"open\":\"0.0002343\",\n    //                 \"high\":\"0.0002348\",\n    //                 \"low\":\"0.0002162\",\n    //                 \"close\":\"0.0002348\",\n    //                 \"volume\":\"12887.016\",\n    //                 \"daily_change\":\"0.0000005\"\n    //             },\n    //             {\n    //                 \"asset_pair_name\":\"GXC-USDT\",\n    //                 \"bid\":{\"price\":\"0.5054\",\"order_count\":1,\"quantity\":\"40.53\"},\n    //                 \"ask\":{\"price\":\"0.5055\",\"order_count\":1,\"quantity\":\"38.53\"},\n    //                 \"open\":\"0.5262\",\n    //                 \"high\":\"0.5323\",\n    //                 \"low\":\"0.5055\",\n    //                 \"close\":\"0.5055\",\n    //                 \"volume\":\"603963.05\",\n    //                 \"daily_change\":\"-0.0207\"\n    //             }\n    //         ]\n    //     }\n    //\n\n    const tickers = this.safeValue(response, 'data', []);\n    const result = {};\n\n    for (let i = 0; i < tickers.length; i++) {\n      const ticker = this.parseTicker(tickers[i]);\n      const symbol = ticker['symbol'];\n      result[symbol] = ticker;\n    }\n\n    return this.filterByArray(result, 'symbol', symbols);\n  }\n\n  async fetchTime(params = {}) {\n    const response = await this.publicGetPing(params); //\n    //     {\n    //         \"data\": {\n    //             \"timestamp\": 1527665262168391000\n    //         }\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', {});\n    const timestamp = this.safeInteger(data, 'timestamp');\n    return parseInt(timestamp / 1000000);\n  }\n\n  async fetchOrderBook(symbol, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id']\n    };\n\n    if (limit !== undefined) {\n      request['limit'] = limit; // default 50, max 200\n    }\n\n    const response = await this.publicGetAssetPairsAssetPairNameDepth(this.extend(request, params)); //\n    //     {\n    //         \"code\":0,\n    //         \"data\": {\n    //             \"asset_pair_name\": \"EOS-BTC\",\n    //             \"bids\": [\n    //                 { \"price\": \"42\", \"order_count\": 4, \"quantity\": \"23.33363711\" }\n    //             ],\n    //             \"asks\": [\n    //                 { \"price\": \"45\", \"order_count\": 2, \"quantity\": \"4193.3283464\" }\n    //             ]\n    //         }\n    //     }\n    //\n\n    const orderbook = this.safeValue(response, 'data', {});\n    return this.parseOrderBook(orderbook, undefined, 'bids', 'asks', 'price', 'quantity');\n  }\n\n  parseTrade(trade, market = undefined) {\n    //\n    // fetchTrades (public)\n    //\n    //     {\n    //         \"id\": 38199941,\n    //         \"price\": \"3378.67\",\n    //         \"amount\": \"0.019812\",\n    //         \"taker_side\": \"ASK\",\n    //         \"created_at\": \"2019-01-29T06:05:56Z\"\n    //     }\n    //\n    // fetchMyTrades (private)\n    //\n    //     {\n    //         \"id\": 10854280,\n    //         \"asset_pair_name\": \"XIN-USDT\",\n    //         \"price\": \"70\",\n    //         \"amount\": \"1\",\n    //         \"taker_side\": \"ASK\",\n    //         \"maker_order_id\": 58284908,\n    //         \"taker_order_id\": 58284909,\n    //         \"maker_fee\": \"0.0008\",\n    //         \"taker_fee\": \"0.07\",\n    //         \"side\": \"SELF_TRADING\",\n    //         \"inserted_at\": \"2019-04-16T12:00:01Z\"\n    //     },\n    //\n    //     {\n    //         \"id\": 10854263,\n    //         \"asset_pair_name\": \"XIN-USDT\",\n    //         \"price\": \"75.7\",\n    //         \"amount\": \"12.743149\",\n    //         \"taker_side\": \"BID\",\n    //         \"maker_order_id\": null,\n    //         \"taker_order_id\": 58284888,\n    //         \"maker_fee\": null,\n    //         \"taker_fee\": \"0.0025486298\",\n    //         \"side\": \"BID\",\n    //         \"inserted_at\": \"2019-04-15T06:20:57Z\"\n    //     }\n    //\n    const timestamp = this.parse8601(this.safeString2(trade, 'created_at', 'inserted_at'));\n    const price = this.safeFloat(trade, 'price');\n    const amount = this.safeFloat(trade, 'amount');\n    const marketId = this.safeString(trade, 'asset_pair_name');\n    const symbol = this.safeSymbol(marketId, market, '-');\n    let cost = undefined;\n\n    if (amount !== undefined) {\n      if (price !== undefined) {\n        cost = this.costToPrecision(symbol, price * amount);\n      }\n    }\n\n    let side = this.safeString(trade, 'side');\n    const takerSide = this.safeString(trade, 'taker_side');\n    let takerOrMaker = undefined;\n\n    if (takerSide !== undefined && side !== undefined && side !== 'SELF_TRADING') {\n      takerOrMaker = takerSide === side ? 'taker' : 'maker';\n    }\n\n    if (side === undefined) {\n      // taker side is not related to buy/sell side\n      // the following code is probably a mistake\n      side = takerSide === 'ASK' ? 'sell' : 'buy';\n    } else {\n      if (side === 'BID') {\n        side = 'buy';\n      } else if (side === 'ASK') {\n        side = 'sell';\n      }\n    }\n\n    const makerOrderId = this.safeString(trade, 'maker_order_id');\n    const takerOrderId = this.safeString(trade, 'taker_order_id');\n    let orderId = undefined;\n\n    if (makerOrderId !== undefined) {\n      if (takerOrderId !== undefined) {\n        orderId = [makerOrderId, takerOrderId];\n      } else {\n        orderId = makerOrderId;\n      }\n    } else if (takerOrderId !== undefined) {\n      orderId = takerOrderId;\n    }\n\n    const id = this.safeString(trade, 'id');\n    const result = {\n      'id': id,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'symbol': symbol,\n      'order': orderId,\n      'type': 'limit',\n      'side': side,\n      'takerOrMaker': takerOrMaker,\n      'price': price,\n      'amount': amount,\n      'cost': parseFloat(cost),\n      'info': trade\n    };\n    let makerCurrencyCode = undefined;\n    let takerCurrencyCode = undefined;\n\n    if (market !== undefined && takerOrMaker !== undefined) {\n      if (side === 'buy') {\n        if (takerOrMaker === 'maker') {\n          makerCurrencyCode = market['base'];\n          takerCurrencyCode = market['quote'];\n        } else {\n          makerCurrencyCode = market['quote'];\n          takerCurrencyCode = market['base'];\n        }\n      } else {\n        if (takerOrMaker === 'maker') {\n          makerCurrencyCode = market['quote'];\n          takerCurrencyCode = market['base'];\n        } else {\n          makerCurrencyCode = market['base'];\n          takerCurrencyCode = market['quote'];\n        }\n      }\n    } else if (side === 'SELF_TRADING') {\n      if (takerSide === 'BID') {\n        makerCurrencyCode = market['quote'];\n        takerCurrencyCode = market['base'];\n      } else if (takerSide === 'ASK') {\n        makerCurrencyCode = market['base'];\n        takerCurrencyCode = market['quote'];\n      }\n    }\n\n    const makerFeeCost = this.safeFloat(trade, 'maker_fee');\n    const takerFeeCost = this.safeFloat(trade, 'taker_fee');\n\n    if (makerFeeCost !== undefined) {\n      if (takerFeeCost !== undefined) {\n        result['fees'] = [{\n          'cost': makerFeeCost,\n          'currency': makerCurrencyCode\n        }, {\n          'cost': takerFeeCost,\n          'currency': takerCurrencyCode\n        }];\n      } else {\n        result['fee'] = {\n          'cost': makerFeeCost,\n          'currency': makerCurrencyCode\n        };\n      }\n    } else if (takerFeeCost !== undefined) {\n      result['fee'] = {\n        'cost': takerFeeCost,\n        'currency': takerCurrencyCode\n      };\n    } else {\n      result['fee'] = undefined;\n    }\n\n    return result;\n  }\n\n  async fetchTrades(symbol, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id']\n    };\n    const response = await this.publicGetAssetPairsAssetPairNameTrades(this.extend(request, params)); //\n    //     {\n    //         \"code\": 0,\n    //         \"data\": [\n    //             {\n    //                 \"id\": 38199941,\n    //                 \"price\": \"3378.67\",\n    //                 \"amount\": \"0.019812\",\n    //                 \"taker_side\": \"ASK\",\n    //                 \"created_at\": \"2019-01-29T06:05:56Z\"\n    //             },\n    //             {\n    //                 \"id\": 38199934,\n    //                 \"price\": \"3376.14\",\n    //                 \"amount\": \"0.019384\",\n    //                 \"taker_side\": \"ASK\",\n    //                 \"created_at\": \"2019-01-29T06:05:40Z\"\n    //             }\n    //         ]\n    //     }\n    //\n\n    const trades = this.safeValue(response, 'data', []);\n    return this.parseTrades(trades, market, since, limit);\n  }\n\n  parseOHLCV(ohlcv, market = undefined) {\n    //\n    //     {\n    //         close: '0.021562',\n    //         high: '0.021563',\n    //         low: '0.02156',\n    //         open: '0.021563',\n    //         time: '2019-11-21T07:54:00Z',\n    //         volume: '59.84376'\n    //     }\n    //\n    return [this.parse8601(this.safeString(ohlcv, 'time')), this.safeFloat(ohlcv, 'open'), this.safeFloat(ohlcv, 'high'), this.safeFloat(ohlcv, 'low'), this.safeFloat(ohlcv, 'close'), this.safeFloat(ohlcv, 'volume')];\n  }\n\n  async fetchOHLCV(symbol, timeframe = '1m', since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n\n    if (limit === undefined) {\n      limit = 100; // default 100, max 500\n    }\n\n    const request = {\n      'asset_pair_name': market['id'],\n      'period': this.timeframes[timeframe],\n      'limit': limit\n    };\n\n    if (since !== undefined) {\n      // const start = parseInt (since / 1000);\n      const end = this.sum(since, limit * this.parseTimeframe(timeframe) * 1000);\n      request['time'] = this.iso8601(end);\n    }\n\n    const response = await this.publicGetAssetPairsAssetPairNameCandles(this.extend(request, params)); //\n    //     {\n    //         code: 0,\n    //         data: [\n    //             {\n    //                 close: '0.021656',\n    //                 high: '0.021658',\n    //                 low: '0.021652',\n    //                 open: '0.021652',\n    //                 time: '2019-11-21T09:30:00Z',\n    //                 volume: '53.08664'\n    //             },\n    //             {\n    //                 close: '0.021652',\n    //                 high: '0.021656',\n    //                 low: '0.021652',\n    //                 open: '0.021656',\n    //                 time: '2019-11-21T09:29:00Z',\n    //                 volume: '88.39861'\n    //             },\n    //         ]\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', []);\n    return this.parseOHLCVs(data, market, timeframe, since, limit);\n  }\n\n  async fetchBalance(params = {}) {\n    await this.loadMarkets();\n    const type = this.safeString(params, 'type', '');\n    params = this.omit(params, 'type');\n    const method = 'privateGet' + this.capitalize(type) + 'Accounts';\n    const response = await this[method](params); //\n    //     {\n    //         \"code\":0,\n    //         \"data\":[\n    //             {\"asset_symbol\":\"NKC\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n    //             {\"asset_symbol\":\"UBTC\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n    //             {\"asset_symbol\":\"READ\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n    //         ],\n    //     }\n    //\n\n    const result = {\n      'info': response\n    };\n    const balances = this.safeValue(response, 'data', []);\n\n    for (let i = 0; i < balances.length; i++) {\n      const balance = balances[i];\n      const symbol = this.safeString(balance, 'asset_symbol');\n      const code = this.safeCurrencyCode(symbol);\n      const account = this.account();\n      account['total'] = this.safeFloat(balance, 'balance');\n      account['used'] = this.safeFloat(balance, 'locked_balance');\n      result[code] = account;\n    }\n\n    return this.parseBalance(result);\n  }\n\n  parseOrder(order, market = undefined) {\n    //\n    //    {\n    //        \"id\": 10,\n    //        \"asset_pair_name\": \"EOS-BTC\",\n    //        \"price\": \"10.00\",\n    //        \"amount\": \"10.00\",\n    //        \"filled_amount\": \"9.0\",\n    //        \"avg_deal_price\": \"12.0\",\n    //        \"side\": \"ASK\",\n    //        \"state\": \"FILLED\",\n    //        \"created_at\":\"2019-01-29T06:05:56Z\",\n    //        \"updated_at\":\"2019-01-29T06:05:56Z\",\n    //    }\n    //\n    const id = this.safeString(order, 'id');\n    const marketId = this.safeString(order, 'asset_pair_name');\n    const symbol = this.safeSymbol(marketId, market, '-');\n    const timestamp = this.parse8601(this.safeString(order, 'created_at'));\n    const price = this.safeFloat(order, 'price');\n    const amount = this.safeFloat(order, 'amount');\n    const filled = this.safeFloat(order, 'filled_amount');\n    let remaining = undefined;\n\n    if (amount !== undefined && filled !== undefined) {\n      remaining = Math.max(0, amount - filled);\n    }\n\n    const status = this.parseOrderStatus(this.safeString(order, 'state'));\n    let side = this.safeString(order, 'side');\n\n    if (side === 'BID') {\n      side = 'buy';\n    } else {\n      side = 'sell';\n    }\n\n    let cost = undefined;\n\n    if (filled !== undefined) {\n      if (price !== undefined) {\n        cost = filled * price;\n      }\n    }\n\n    const lastTradeTimestamp = this.parse8601(this.safeString(order, 'updated_at'));\n    const average = this.safeFloat(order, 'avg_deal_price');\n    return {\n      'info': order,\n      'id': id,\n      'clientOrderId': undefined,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'lastTradeTimestamp': lastTradeTimestamp,\n      'symbol': symbol,\n      'type': undefined,\n      'timeInForce': undefined,\n      'postOnly': undefined,\n      'side': side,\n      'price': price,\n      'stopPrice': undefined,\n      'amount': amount,\n      'cost': cost,\n      'average': average,\n      'filled': filled,\n      'remaining': remaining,\n      'status': status,\n      'fee': undefined,\n      'trades': undefined\n    };\n  }\n\n  async createOrder(symbol, type, side, amount, price = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    side = side === 'buy' ? 'BID' : 'ASK';\n    const uppercaseType = type.toUpperCase();\n    const request = {\n      'asset_pair_name': market['id'],\n      // asset pair name BTC-USDT, required\n      'side': side,\n      // order side one of \"ASK\"/\"BID\", required\n      'amount': this.amountToPrecision(symbol, amount),\n      // order amount, string, required\n      // 'price': this.priceToPrecision (symbol, price), // order price, string, required\n      'type': uppercaseType // 'operator': 'GTE', // stop orders only, GTE greater than and equal, LTE less than and equal\n      // 'immediate_or_cancel': false, // limit orders only, must be false when post_only is true\n      // 'post_only': false, // limit orders only, must be false when immediate_or_cancel is true\n\n    };\n\n    if (uppercaseType === 'LIMIT') {\n      request['price'] = this.priceToPrecision(symbol, price);\n    } else {\n      const isStopLimit = uppercaseType === 'STOP_LIMIT';\n      const isStopMarket = uppercaseType === 'STOP_MARKET';\n\n      if (isStopLimit || isStopMarket) {\n        const stopPrice = this.safeFloat2(params, 'stop_price', 'stopPrice');\n\n        if (stopPrice === undefined) {\n          throw new ArgumentsRequired(this.id + ' createOrder requires a stop_price parameter');\n        }\n\n        request['stop_price'] = this.priceToPrecision(symbol, stopPrice);\n        params = this.omit(params, ['stop_price', 'stopPrice']);\n      }\n\n      if (isStopLimit) {\n        request['price'] = this.priceToPrecision(symbol, price);\n      }\n    }\n\n    const response = await this.privatePostOrders(this.extend(request, params)); //\n    //    {\n    //        \"id\": 10,\n    //        \"asset_pair_name\": \"EOS-BTC\",\n    //        \"price\": \"10.00\",\n    //        \"amount\": \"10.00\",\n    //        \"filled_amount\": \"9.0\",\n    //        \"avg_deal_price\": \"12.0\",\n    //        \"side\": \"ASK\",\n    //        \"state\": \"FILLED\",\n    //        \"created_at\":\"2019-01-29T06:05:56Z\",\n    //        \"updated_at\":\"2019-01-29T06:05:56Z\"\n    //    }\n    //\n\n    const order = this.safeValue(response, 'data');\n    return this.parseOrder(order, market);\n  }\n\n  async cancelOrder(id, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'id': id\n    };\n    const response = await this.privatePostOrdersIdCancel(this.extend(request, params)); //    {\n    //        \"id\": 10,\n    //        \"asset_pair_name\": \"EOS-BTC\",\n    //        \"price\": \"10.00\",\n    //        \"amount\": \"10.00\",\n    //        \"filled_amount\": \"9.0\",\n    //        \"avg_deal_price\": \"12.0\",\n    //        \"side\": \"ASK\",\n    //        \"state\": \"CANCELLED\",\n    //        \"created_at\":\"2019-01-29T06:05:56Z\",\n    //        \"updated_at\":\"2019-01-29T06:05:56Z\"\n    //    }\n\n    const order = this.safeValue(response, 'data');\n    return this.parseOrder(order);\n  }\n\n  async cancelAllOrders(symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id']\n    };\n    const response = await this.privatePostOrdersCancel(this.extend(request, params)); //\n    //     {\n    //         \"code\":0,\n    //         \"data\": {\n    //             \"cancelled\":[\n    //                 58272370,\n    //                 58272377\n    //             ],\n    //             \"failed\": []\n    //         }\n    //     }\n    //\n\n    return response;\n  }\n\n  async fetchOrder(id, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'id': id\n    };\n    const response = await this.privateGetOrdersId(this.extend(request, params));\n    const order = this.safeValue(response, 'data', {});\n    return this.parseOrder(order);\n  }\n\n  async fetchOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    if (symbol === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchOrders() requires a symbol argument');\n    }\n\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id'] // 'page_token': 'dxzef', // request page after this page token\n      // 'side': 'ASK', // 'ASK' or 'BID', optional\n      // 'state': 'FILLED', // 'CANCELLED', 'FILLED', 'PENDING'\n      // 'limit' 20, // default 20, max 200\n\n    };\n\n    if (limit !== undefined) {\n      request['limit'] = limit; // default 20, max 200\n    }\n\n    const response = await this.privateGetOrders(this.extend(request, params)); //\n    //    {\n    //        \"code\":0,\n    //        \"data\": [\n    //             {\n    //                 \"id\": 10,\n    //                 \"asset_pair_name\": \"ETH-BTC\",\n    //                 \"price\": \"10.00\",\n    //                 \"amount\": \"10.00\",\n    //                 \"filled_amount\": \"9.0\",\n    //                 \"avg_deal_price\": \"12.0\",\n    //                 \"side\": \"ASK\",\n    //                 \"state\": \"FILLED\",\n    //                 \"created_at\":\"2019-01-29T06:05:56Z\",\n    //                 \"updated_at\":\"2019-01-29T06:05:56Z\",\n    //             },\n    //         ],\n    //        \"page_token\":\"dxzef\",\n    //    }\n    //\n\n    const orders = this.safeValue(response, 'data', []);\n    return this.parseOrders(orders, market, since, limit);\n  }\n\n  async fetchMyTrades(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n\n    if (symbol === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchMyTrades() requires a symbol argument');\n    }\n\n    const market = this.market(symbol);\n    const request = {\n      'asset_pair_name': market['id'] // 'page_token': 'dxzef', // request page after this page token\n\n    };\n\n    if (limit !== undefined) {\n      request['limit'] = limit; // default 20, max 200\n    }\n\n    const response = await this.privateGetTrades(this.extend(request, params)); //\n    //     {\n    //         \"code\": 0,\n    //         \"data\": [\n    //             {\n    //                 \"id\": 10854280,\n    //                 \"asset_pair_name\": \"XIN-USDT\",\n    //                 \"price\": \"70\",\n    //                 \"amount\": \"1\",\n    //                 \"taker_side\": \"ASK\",\n    //                 \"maker_order_id\": 58284908,\n    //                 \"taker_order_id\": 58284909,\n    //                 \"maker_fee\": \"0.0008\",\n    //                 \"taker_fee\": \"0.07\",\n    //                 \"side\": \"SELF_TRADING\",\n    //                 \"inserted_at\": \"2019-04-16T12:00:01Z\"\n    //             },\n    //             {\n    //                 \"id\": 10854263,\n    //                 \"asset_pair_name\": \"XIN-USDT\",\n    //                 \"price\": \"75.7\",\n    //                 \"amount\": \"12.743149\",\n    //                 \"taker_side\": \"BID\",\n    //                 \"maker_order_id\": null,\n    //                 \"taker_order_id\": 58284888,\n    //                 \"maker_fee\": null,\n    //                 \"taker_fee\": \"0.0025486298\",\n    //                 \"side\": \"BID\",\n    //                 \"inserted_at\": \"2019-04-15T06:20:57Z\"\n    //             }\n    //         ],\n    //         \"page_token\":\"dxfv\"\n    //     }\n    //\n\n    const trades = this.safeValue(response, 'data', []);\n    return this.parseTrades(trades, market, since, limit);\n  }\n\n  parseOrderStatus(status) {\n    const statuses = {\n      'PENDING': 'open',\n      'FILLED': 'closed',\n      'CANCELLED': 'canceled'\n    };\n    return this.safeString(statuses, status);\n  }\n\n  async fetchOpenOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    const request = {\n      'state': 'PENDING'\n    };\n    return await this.fetchOrders(symbol, since, limit, this.extend(request, params));\n  }\n\n  async fetchClosedOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    const request = {\n      'state': 'FILLED'\n    };\n    return await this.fetchOrders(symbol, since, limit, this.extend(request, params));\n  }\n\n  nonce() {\n    return this.microseconds() * 1000;\n  }\n\n  sign(path, api = 'public', method = 'GET', params = {}, headers = undefined, body = undefined) {\n    const query = this.omit(params, this.extractParams(path));\n    const baseUrl = this.implodeParams(this.urls['api'][api], {\n      'hostname': this.hostname\n    });\n    let url = baseUrl + '/' + this.implodeParams(path, params);\n\n    if (api === 'public') {\n      if (Object.keys(query).length) {\n        url += '?' + this.urlencode(query);\n      }\n    } else {\n      this.checkRequiredCredentials();\n      const nonce = this.nonce().toString();\n      const request = {\n        'type': 'OpenAPIV2',\n        'sub': this.apiKey,\n        'nonce': nonce // 'recv_window': '30', // default 30\n\n      };\n      const jwt = this.jwt(request, this.encode(this.secret));\n      headers = {\n        'Authorization': 'Bearer ' + jwt\n      };\n\n      if (method === 'GET') {\n        if (Object.keys(query).length) {\n          url += '?' + this.urlencode(query);\n        }\n      } else if (method === 'POST') {\n        headers['Content-Type'] = 'application/json';\n        body = this.json(query);\n      }\n    }\n\n    return {\n      'url': url,\n      'method': method,\n      'body': body,\n      'headers': headers\n    };\n  }\n\n  async fetchDepositAddress(code, params = {}) {\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'asset_symbol': currency['id']\n    };\n    const response = await this.privateGetAssetsAssetSymbolAddress(this.extend(request, params)); //\n    // the actual response format is not the same as the documented one\n    // the data key contains an array in the actual response\n    //\n    //     {\n    //         \"code\":0,\n    //         \"message\":\"\",\n    //         \"data\":[\n    //             {\n    //                 \"id\":5521878,\n    //                 \"chain\":\"Bitcoin\",\n    //                 \"value\":\"1GbmyKoikhpiQVZ1C9sbF17mTyvBjeobVe\",\n    //                 \"memo\":\"\"\n    //             }\n    //         ]\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', []);\n    const dataLength = data.length;\n\n    if (dataLength < 1) {\n      throw new ExchangeError(this.id + 'fetchDepositAddress() returned empty address response');\n    }\n\n    const firstElement = data[0];\n    const address = this.safeString(firstElement, 'value');\n    const tag = this.safeString(firstElement, 'memo');\n    this.checkAddress(address);\n    return {\n      'currency': code,\n      'address': address,\n      'tag': tag,\n      'info': response\n    };\n  }\n\n  parseTransactionStatus(status) {\n    const statuses = {\n      // what are other statuses here?\n      'WITHHOLD': 'ok',\n      // deposits\n      'UNCONFIRMED': 'pending',\n      'CONFIRMED': 'ok' // withdrawals\n\n    };\n    return this.safeString(statuses, status, status);\n  }\n\n  parseTransaction(transaction, currency = undefined) {\n    //\n    // fetchDeposits\n    //\n    //     {\n    //         \"amount\": \"25.0\",\n    //         \"asset_symbol\": \"BTS\"\n    //         \"confirms\": 100,\n    //         \"id\": 5,\n    //         \"inserted_at\": \"2018-02-16T11:39:58.000Z\",\n    //         \"is_internal\": false,\n    //         \"kind\": \"default\",\n    //         \"memo\": \"\",\n    //         \"state\": \"WITHHOLD\",\n    //         \"txid\": \"72e03037d144dae3d32b68b5045462b1049a0755\",\n    //         \"updated_at\": \"2018-11-09T10:20:09.000Z\",\n    //     }\n    //\n    // fetchWithdrawals\n    //\n    //     {\n    //         \"amount\": \"5\",\n    //         \"asset_symbol\": \"ETH\",\n    //         \"completed_at\": \"2018-03-15T16:13:45.610463Z\",\n    //         \"customer_id\": \"10\",\n    //         \"id\": 10,\n    //         \"inserted_at\": \"2018-03-15T16:13:45.610463Z\",\n    //         \"is_internal\": true,\n    //         \"note\": \"2018-03-15T16:13:45.610463Z\",\n    //         \"state\": \"CONFIRMED\",\n    //         \"target_address\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f7\"\n    //         \"txid\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f73a3ca90a15356f2e967da0\",\n    //     }\n    //\n    // withdraw\n    //\n    //     {\n    //         \"id\":1077391,\n    //         \"customer_id\":1082679,\n    //         \"amount\":\"21.9000000000000000\",\n    //         \"txid\":\"\",\n    //         \"is_internal\":false,\n    //         \"kind\":\"on_chain\",\n    //         \"state\":\"PENDING\",\n    //         \"inserted_at\":\"2020-06-03T00:50:57+00:00\",\n    //         \"updated_at\":\"2020-06-03T00:50:57+00:00\",\n    //         \"memo\":\"\",\n    //         \"target_address\":\"rDYtYT3dBeuw376rvHqoZBKW3UmvguoBAf\",\n    //         \"fee\":\"0.1000000000000000\",\n    //         \"asset_symbol\":\"XRP\"\n    //     }\n    //\n    const currencyId = this.safeString(transaction, 'asset_symbol');\n    const code = this.safeCurrencyCode(currencyId);\n    const id = this.safeInteger(transaction, 'id');\n    const amount = this.safeFloat(transaction, 'amount');\n    const status = this.parseTransactionStatus(this.safeString(transaction, 'state'));\n    const timestamp = this.parse8601(this.safeString(transaction, 'inserted_at'));\n    const updated = this.parse8601(this.safeString2(transaction, 'updated_at', 'completed_at'));\n    const txid = this.safeString(transaction, 'txid');\n    const address = this.safeString(transaction, 'target_address');\n    const tag = this.safeString(transaction, 'memo');\n    const type = 'customer_id' in transaction ? 'deposit' : 'withdrawal';\n    return {\n      'info': transaction,\n      'id': id,\n      'txid': txid,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'addressFrom': undefined,\n      'address': undefined,\n      'addressTo': address,\n      'tagFrom': undefined,\n      'tag': tag,\n      'tagTo': undefined,\n      'type': type,\n      'amount': amount,\n      'currency': code,\n      'status': status,\n      'updated': updated,\n      'fee': undefined\n    };\n  }\n\n  async fetchDeposits(code = undefined, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {// 'page_token': 'dxzef', // request page after this page token\n      // 'limit': 50, // optional, default 50\n      // 'kind': 'string', // optional - air_drop, big_holder_dividend, default, eosc_to_eos, internal, equally_airdrop, referral_mining, one_holder_dividend, single_customer, snapshotted_airdrop, trade_mining\n      // 'asset_symbol': 'BTC', // optional\n    };\n    let currency = undefined;\n\n    if (code !== undefined) {\n      currency = this.currency(code);\n      request['asset_symbol'] = currency['id'];\n    }\n\n    if (limit !== undefined) {\n      request['limit'] = limit; // default 50\n    }\n\n    const response = await this.privateGetDeposits(this.extend(request, params)); //\n    //     {\n    //         \"code\": 0,\n    //         \"page_token\": \"NQ==\",\n    //         \"data\": [\n    //             {\n    //                 \"id\": 5,\n    //                 \"amount\": \"25.0\",\n    //                 \"confirms\": 100,\n    //                 \"txid\": \"72e03037d144dae3d32b68b5045462b1049a0755\",\n    //                 \"is_internal\": false,\n    //                 \"inserted_at\": \"2018-02-16T11:39:58.000Z\",\n    //                 \"updated_at\": \"2018-11-09T10:20:09.000Z\",\n    //                 \"kind\": \"default\",\n    //                 \"memo\": \"\",\n    //                 \"state\": \"WITHHOLD\",\n    //                 \"asset_symbol\": \"BTS\"\n    //             }\n    //         ]\n    //     }\n    //\n\n    const deposits = this.safeValue(response, 'data', []);\n    return this.parseTransactions(deposits, code, since, limit);\n  }\n\n  async fetchWithdrawals(code = undefined, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {// 'page_token': 'dxzef', // request page after this page token\n      // 'limit': 50, // optional, default 50\n      // 'kind': 'string', // optional - air_drop, big_holder_dividend, default, eosc_to_eos, internal, equally_airdrop, referral_mining, one_holder_dividend, single_customer, snapshotted_airdrop, trade_mining\n      // 'asset_symbol': 'BTC', // optional\n    };\n    let currency = undefined;\n\n    if (code !== undefined) {\n      currency = this.currency(code);\n      request['asset_symbol'] = currency['id'];\n    }\n\n    if (limit !== undefined) {\n      request['limit'] = limit; // default 50\n    }\n\n    const response = await this.privateGetWithdrawals(this.extend(request, params)); //\n    //     {\n    //         \"code\": 0,\n    //         \"data\": [\n    //             {\n    //                 \"id\": 10,\n    //                 \"customer_id\": \"10\",\n    //                 \"asset_symbol\": \"ETH\",\n    //                 \"amount\": \"5\",\n    //                 \"state\": \"CONFIRMED\",\n    //                 \"note\": \"2018-03-15T16:13:45.610463Z\",\n    //                 \"txid\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f73a3ca90a15356f2e967da0\",\n    //                 \"completed_at\": \"2018-03-15T16:13:45.610463Z\",\n    //                 \"inserted_at\": \"2018-03-15T16:13:45.610463Z\",\n    //                 \"is_internal\": true,\n    //                 \"target_address\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f7\"\n    //             }\n    //         ],\n    //         \"page_token\":\"dxvf\"\n    //     }\n    //\n\n    const withdrawals = this.safeValue(response, 'data', []);\n    return this.parseTransactions(withdrawals, code, since, limit);\n  }\n\n  async withdraw(code, amount, address, tag = undefined, params = {}) {\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'symbol': currency['id'],\n      'target_address': address,\n      'amount': this.currencyToPrecision(code, amount)\n    };\n\n    if (tag !== undefined) {\n      request['memo'] = tag;\n    } // requires write permission on the wallet\n\n\n    const response = await this.privatePostWithdrawals(this.extend(request, params)); //\n    //     {\n    //         \"code\":0,\n    //         \"message\":\"\",\n    //         \"data\":{\n    //             \"id\":1077391,\n    //             \"customer_id\":1082679,\n    //             \"amount\":\"21.9000000000000000\",\n    //             \"txid\":\"\",\n    //             \"is_internal\":false,\n    //             \"kind\":\"on_chain\",\n    //             \"state\":\"PENDING\",\n    //             \"inserted_at\":\"2020-06-03T00:50:57+00:00\",\n    //             \"updated_at\":\"2020-06-03T00:50:57+00:00\",\n    //             \"memo\":\"\",\n    //             \"target_address\":\"rDYtYT3dBeuw376rvHqoZBKW3UmvguoBAf\",\n    //             \"fee\":\"0.1000000000000000\",\n    //             \"asset_symbol\":\"XRP\"\n    //         }\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', {});\n    return this.parseTransaction(data, currency);\n  }\n\n  handleErrors(httpCode, reason, url, method, headers, body, response, requestHeaders, requestBody) {\n    if (response === undefined) {\n      return; // fallback to default error handler\n    } //\n    //      {\"code\":10013,\"message\":\"Resource not found\"}\n    //      {\"code\":40004,\"message\":\"invalid jwt\"}\n    //\n\n\n    const code = this.safeString(response, 'code');\n    const message = this.safeString(response, 'message');\n\n    if (code !== '0') {\n      const feedback = this.id + ' ' + body;\n      this.throwExactlyMatchedException(this.exceptions['exact'], message, feedback);\n      this.throwExactlyMatchedException(this.exceptions['exact'], code, feedback);\n      this.throwBroadlyMatchedException(this.exceptions['broad'], message, feedback);\n      throw new ExchangeError(feedback); // unknown message\n    }\n  }\n\n};","map":{"version":3,"sources":["C:/Users/senya/Documents/Coding/React Projects/react-stock-ticker/node_modules/ccxt/js/bigone.js"],"names":["Exchange","require","ExchangeError","ArgumentsRequired","AuthenticationError","OrderNotFound","InsufficientFunds","PermissionDenied","BadRequest","RateLimitExceeded","InvalidOrder","module","exports","bigone","describe","deepExtend","fetchMarkets","params","response","publicGetAssetPairs","markets","safeValue","result","i","length","market","id","safeString","uuid","baseAsset","quoteAsset","baseId","quoteId","base","safeCurrencyCode","quote","symbol","precision","safeInteger","minCost","entry","Math","pow","undefined","push","loadMarkets","reload","marketsByUuid","options","symbols","parseTicker","ticker","marketId","safeSymbol","timestamp","close","safeFloat","bid","ask","iso8601","fetchTicker","request","publicGetAssetPairsAssetPairNameTicker","extend","fetchTickers","ids","marketIds","join","publicGetAssetPairsTickers","tickers","filterByArray","fetchTime","publicGetPing","data","parseInt","fetchOrderBook","limit","publicGetAssetPairsAssetPairNameDepth","orderbook","parseOrderBook","parseTrade","trade","parse8601","safeString2","price","amount","cost","costToPrecision","side","takerSide","takerOrMaker","makerOrderId","takerOrderId","orderId","parseFloat","makerCurrencyCode","takerCurrencyCode","makerFeeCost","takerFeeCost","fetchTrades","since","publicGetAssetPairsAssetPairNameTrades","trades","parseTrades","parseOHLCV","ohlcv","fetchOHLCV","timeframe","timeframes","end","sum","parseTimeframe","publicGetAssetPairsAssetPairNameCandles","parseOHLCVs","fetchBalance","type","omit","method","capitalize","balances","balance","code","account","parseBalance","parseOrder","order","filled","remaining","max","status","parseOrderStatus","lastTradeTimestamp","average","createOrder","uppercaseType","toUpperCase","amountToPrecision","priceToPrecision","isStopLimit","isStopMarket","stopPrice","safeFloat2","privatePostOrders","cancelOrder","privatePostOrdersIdCancel","cancelAllOrders","privatePostOrdersCancel","fetchOrder","privateGetOrdersId","fetchOrders","privateGetOrders","orders","parseOrders","fetchMyTrades","privateGetTrades","statuses","fetchOpenOrders","fetchClosedOrders","nonce","microseconds","sign","path","api","headers","body","query","extractParams","baseUrl","implodeParams","urls","hostname","url","Object","keys","urlencode","checkRequiredCredentials","toString","apiKey","jwt","encode","secret","json","fetchDepositAddress","currency","privateGetAssetsAssetSymbolAddress","dataLength","firstElement","address","tag","checkAddress","parseTransactionStatus","parseTransaction","transaction","currencyId","updated","txid","fetchDeposits","privateGetDeposits","deposits","parseTransactions","fetchWithdrawals","privateGetWithdrawals","withdrawals","withdraw","currencyToPrecision","privatePostWithdrawals","handleErrors","httpCode","reason","requestHeaders","requestBody","message","feedback","throwExactlyMatchedException","exceptions","throwBroadlyMatchedException"],"mappings":"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","sourcesContent":["'use strict';\n\n//  ---------------------------------------------------------------------------\n\nconst Exchange = require ('./base/Exchange');\nconst { ExchangeError, ArgumentsRequired, AuthenticationError, OrderNotFound, InsufficientFunds, PermissionDenied, BadRequest, RateLimitExceeded, InvalidOrder } = require ('./base/errors');\n\n//  ---------------------------------------------------------------------------\n\nmodule.exports = class bigone extends Exchange {\n    describe () {\n        return this.deepExtend (super.describe (), {\n            'id': 'bigone',\n            'name': 'BigONE',\n            'countries': [ 'CN' ],\n            'version': 'v3',\n            'rateLimit': 1200, // 500 request per 10 minutes\n            'has': {\n                'cancelAllOrders': true,\n                'cancelOrder': true,\n                'createOrder': true,\n                'fetchBalance': true,\n                'fetchClosedOrders': true,\n                'fetchDepositAddress': true,\n                'fetchDeposits': true,\n                'fetchMarkets': true,\n                'fetchMyTrades': true,\n                'fetchOHLCV': true,\n                'fetchOpenOrders': true,\n                'fetchOrder': true,\n                'fetchOrders': true,\n                'fetchOrderBook': true,\n                'fetchTicker': true,\n                'fetchTickers': true,\n                'fetchTime': true,\n                'fetchTrades': true,\n                'fetchWithdrawals': true,\n                'withdraw': true,\n            },\n            'timeframes': {\n                '1m': 'min1',\n                '5m': 'min5',\n                '15m': 'min15',\n                '30m': 'min30',\n                '1h': 'hour1',\n                '3h': 'hour3',\n                '4h': 'hour4',\n                '6h': 'hour6',\n                '12h': 'hour12',\n                '1d': 'day1',\n                '1w': 'week1',\n                '1M': 'month1',\n            },\n            'hostname': 'big.one', // or 'bigone.com'\n            'urls': {\n                'logo': 'https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg',\n                'api': {\n                    'public': 'https://{hostname}/api/v3',\n                    'private': 'https://{hostname}/api/v3/viewer',\n                },\n                'www': 'https://big.one',\n                'doc': 'https://open.big.one/docs/api.html',\n                'fees': 'https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy',\n                'referral': 'https://b1.run/users/new?code=D3LLBVFT',\n            },\n            'api': {\n                'public': {\n                    'get': [\n                        'ping',\n                        'asset_pairs',\n                        'asset_pairs/{asset_pair_name}/depth',\n                        'asset_pairs/{asset_pair_name}/trades',\n                        'asset_pairs/{asset_pair_name}/ticker',\n                        'asset_pairs/{asset_pair_name}/candles',\n                        'asset_pairs/tickers',\n                    ],\n                },\n                'private': {\n                    'get': [\n                        'accounts',\n                        'fund/accounts',\n                        'assets/{asset_symbol}/address',\n                        'orders',\n                        'orders/{id}',\n                        'orders/multi',\n                        'trades',\n                        'withdrawals',\n                        'deposits',\n                    ],\n                    'post': [\n                        'orders',\n                        'orders/{id}/cancel',\n                        'orders/cancel',\n                        'withdrawals',\n                        'transfer',\n                    ],\n                },\n            },\n            'fees': {\n                'trading': {\n                    'maker': 0.1 / 100,\n                    'taker': 0.1 / 100,\n                },\n                'funding': {\n                    // HARDCODING IS DEPRECATED THE FEES BELOW ARE TO BE REMOVED SOON\n                    'withdraw': {\n                        'BTC': 0.001,\n                        'ETH': 0.005,\n                        'EOS': 0.01,\n                        'ZEC': 0.003,\n                        'LTC': 0.01,\n                        'QTUM': 0.01,\n                        // 'INK': 0.01 QTUM,\n                        // 'BOT': 0.01 QTUM,\n                        'ETC': 0.01,\n                        'GAS': 0.0,\n                        'BTS': 1.0,\n                        'GXS': 0.1,\n                        'BITCNY': 19.0,\n                    },\n                },\n            },\n            'exceptions': {\n                'exact': {\n                    '10001': BadRequest, // syntax error\n                    '10005': ExchangeError, // internal error\n                    \"Amount's scale must greater than AssetPair's base scale\": InvalidOrder,\n                    '10007': BadRequest, // parameter error, {\"code\":10007,\"message\":\"Amount's scale must greater than AssetPair's base scale\"}\n                    '10011': ExchangeError, // system error\n                    '10013': OrderNotFound, // {\"code\":10013,\"message\":\"Resource not found\"}\n                    '10014': InsufficientFunds, // {\"code\":10014,\"message\":\"Insufficient funds\"}\n                    '10403': PermissionDenied, // permission denied\n                    '10429': RateLimitExceeded, // too many requests\n                    '40004': AuthenticationError, // {\"code\":40004,\"message\":\"invalid jwt\"}\n                    '40103': AuthenticationError, // invalid otp code\n                    '40104': AuthenticationError, // invalid asset pin code\n                    '40301': PermissionDenied, // {\"code\":40301,\"message\":\"Permission denied withdrawal create\"}\n                    '40302': ExchangeError, // already requested\n                    '40601': ExchangeError, // resource is locked\n                    '40602': ExchangeError, // resource is depleted\n                    '40603': InsufficientFunds, // insufficient resource\n                    '40120': InvalidOrder, // Order is in trading\n                    '40121': InvalidOrder, // Order is already cancelled or filled\n                },\n                'broad': {\n                },\n            },\n            'commonCurrencies': {\n                'MBN': 'Mobilian Coin',\n                'ONE': 'BigONE Token',\n            },\n        });\n    }\n\n    async fetchMarkets (params = {}) {\n        const response = await this.publicGetAssetPairs (params);\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\":[\n        //             {\n        //                 \"id\":\"01e48809-b42f-4a38-96b1-c4c547365db1\",\n        //                 \"name\":\"PCX-BTC\",\n        //                 \"quote_scale\":7,\n        //                 \"quote_asset\":{\n        //                     \"id\":\"0df9c3c3-255a-46d7-ab82-dedae169fba9\",\n        //                     \"symbol\":\"BTC\",\n        //                     \"name\":\"Bitcoin\",\n        //                 },\n        //                 \"base_asset\":{\n        //                     \"id\":\"405484f7-4b03-4378-a9c1-2bd718ecab51\",\n        //                     \"symbol\":\"PCX\",\n        //                     \"name\":\"ChainX\",\n        //                 },\n        //                 \"base_scale\":3,\n        //                 \"min_quote_value\":\"0.0001\",\n        //             },\n        //         ]\n        //     }\n        //\n        const markets = this.safeValue (response, 'data', []);\n        const result = [];\n        for (let i = 0; i < markets.length; i++) {\n            const market = markets[i];\n            const id = this.safeString (market, 'name');\n            const uuid = this.safeString (market, 'id');\n            const baseAsset = this.safeValue (market, 'base_asset', {});\n            const quoteAsset = this.safeValue (market, 'quote_asset', {});\n            const baseId = this.safeString (baseAsset, 'symbol');\n            const quoteId = this.safeString (quoteAsset, 'symbol');\n            const base = this.safeCurrencyCode (baseId);\n            const quote = this.safeCurrencyCode (quoteId);\n            const symbol = base + '/' + quote;\n            const precision = {\n                'amount': this.safeInteger (market, 'base_scale'),\n                'price': this.safeInteger (market, 'quote_scale'),\n            };\n            const minCost = this.safeInteger (market, 'min_quote_value');\n            const entry = {\n                'id': id,\n                'uuid': uuid,\n                'symbol': symbol,\n                'base': base,\n                'quote': quote,\n                'baseId': baseId,\n                'quoteId': quoteId,\n                'active': true,\n                'precision': precision,\n                'limits': {\n                    'amount': {\n                        'min': Math.pow (10, -precision['amount']),\n                        'max': undefined,\n                    },\n                    'price': {\n                        'min': Math.pow (10, -precision['price']),\n                        'max': undefined,\n                    },\n                    'cost': {\n                        'min': minCost,\n                        'max': undefined,\n                    },\n                },\n                'info': market,\n            };\n            result.push (entry);\n        }\n        return result;\n    }\n\n    async loadMarkets (reload = false, params = {}) {\n        const markets = await super.loadMarkets (reload, params);\n        let marketsByUuid = this.safeValue (this.options, 'marketsByUuid');\n        if ((marketsByUuid === undefined) || reload) {\n            marketsByUuid = {};\n            for (let i = 0; i < this.symbols.length; i++) {\n                const symbol = this.symbols[i];\n                const market = this.markets[symbol];\n                const uuid = this.safeString (market, 'uuid');\n                marketsByUuid[uuid] = market;\n            }\n            this.options['marketsByUuid'] = marketsByUuid;\n        }\n        return markets;\n    }\n\n    parseTicker (ticker, market = undefined) {\n        //\n        //     {\n        //         \"asset_pair_name\":\"ETH-BTC\",\n        //         \"bid\":{\"price\":\"0.021593\",\"order_count\":1,\"quantity\":\"0.20936\"},\n        //         \"ask\":{\"price\":\"0.021613\",\"order_count\":1,\"quantity\":\"2.87064\"},\n        //         \"open\":\"0.021795\",\n        //         \"high\":\"0.021795\",\n        //         \"low\":\"0.021471\",\n        //         \"close\":\"0.021613\",\n        //         \"volume\":\"117078.90431\",\n        //         \"daily_change\":\"-0.000182\"\n        //     }\n        //\n        const marketId = this.safeString (ticker, 'asset_pair_name');\n        const symbol = this.safeSymbol (marketId, market, '-');\n        const timestamp = undefined;\n        const close = this.safeFloat (ticker, 'close');\n        const bid = this.safeValue (ticker, 'bid', {});\n        const ask = this.safeValue (ticker, 'ask', {});\n        return {\n            'symbol': symbol,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'high': this.safeFloat (ticker, 'high'),\n            'low': this.safeFloat (ticker, 'low'),\n            'bid': this.safeFloat (bid, 'price'),\n            'bidVolume': this.safeFloat (bid, 'quantity'),\n            'ask': this.safeFloat (ask, 'price'),\n            'askVolume': this.safeFloat (ask, 'quantity'),\n            'vwap': undefined,\n            'open': this.safeFloat (ticker, 'open'),\n            'close': close,\n            'last': close,\n            'previousClose': undefined,\n            'change': this.safeFloat (ticker, 'daily_change'),\n            'percentage': undefined,\n            'average': undefined,\n            'baseVolume': this.safeFloat (ticker, 'volume'),\n            'quoteVolume': undefined,\n            'info': ticker,\n        };\n    }\n\n    async fetchTicker (symbol, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n        };\n        const response = await this.publicGetAssetPairsAssetPairNameTicker (this.extend (request, params));\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\":{\n        //             \"asset_pair_name\":\"ETH-BTC\",\n        //             \"bid\":{\"price\":\"0.021593\",\"order_count\":1,\"quantity\":\"0.20936\"},\n        //             \"ask\":{\"price\":\"0.021613\",\"order_count\":1,\"quantity\":\"2.87064\"},\n        //             \"open\":\"0.021795\",\n        //             \"high\":\"0.021795\",\n        //             \"low\":\"0.021471\",\n        //             \"close\":\"0.021613\",\n        //             \"volume\":\"117078.90431\",\n        //             \"daily_change\":\"-0.000182\"\n        //         }\n        //     }\n        //\n        const ticker = this.safeValue (response, 'data', {});\n        return this.parseTicker (ticker, market);\n    }\n\n    async fetchTickers (symbols = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {};\n        if (symbols !== undefined) {\n            const ids = this.marketIds (symbols);\n            request['pair_names'] = ids.join (',');\n        }\n        const response = await this.publicGetAssetPairsTickers (this.extend (request, params));\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\":[\n        //             {\n        //                 \"asset_pair_name\":\"PCX-BTC\",\n        //                 \"bid\":{\"price\":\"0.000234\",\"order_count\":1,\"quantity\":\"0.518\"},\n        //                 \"ask\":{\"price\":\"0.0002348\",\"order_count\":1,\"quantity\":\"2.348\"},\n        //                 \"open\":\"0.0002343\",\n        //                 \"high\":\"0.0002348\",\n        //                 \"low\":\"0.0002162\",\n        //                 \"close\":\"0.0002348\",\n        //                 \"volume\":\"12887.016\",\n        //                 \"daily_change\":\"0.0000005\"\n        //             },\n        //             {\n        //                 \"asset_pair_name\":\"GXC-USDT\",\n        //                 \"bid\":{\"price\":\"0.5054\",\"order_count\":1,\"quantity\":\"40.53\"},\n        //                 \"ask\":{\"price\":\"0.5055\",\"order_count\":1,\"quantity\":\"38.53\"},\n        //                 \"open\":\"0.5262\",\n        //                 \"high\":\"0.5323\",\n        //                 \"low\":\"0.5055\",\n        //                 \"close\":\"0.5055\",\n        //                 \"volume\":\"603963.05\",\n        //                 \"daily_change\":\"-0.0207\"\n        //             }\n        //         ]\n        //     }\n        //\n        const tickers = this.safeValue (response, 'data', []);\n        const result = {};\n        for (let i = 0; i < tickers.length; i++) {\n            const ticker = this.parseTicker (tickers[i]);\n            const symbol = ticker['symbol'];\n            result[symbol] = ticker;\n        }\n        return this.filterByArray (result, 'symbol', symbols);\n    }\n\n    async fetchTime (params = {}) {\n        const response = await this.publicGetPing (params);\n        //\n        //     {\n        //         \"data\": {\n        //             \"timestamp\": 1527665262168391000\n        //         }\n        //     }\n        //\n        const data = this.safeValue (response, 'data', {});\n        const timestamp = this.safeInteger (data, 'timestamp');\n        return parseInt (timestamp / 1000000);\n    }\n\n    async fetchOrderBook (symbol, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n        };\n        if (limit !== undefined) {\n            request['limit'] = limit; // default 50, max 200\n        }\n        const response = await this.publicGetAssetPairsAssetPairNameDepth (this.extend (request, params));\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\": {\n        //             \"asset_pair_name\": \"EOS-BTC\",\n        //             \"bids\": [\n        //                 { \"price\": \"42\", \"order_count\": 4, \"quantity\": \"23.33363711\" }\n        //             ],\n        //             \"asks\": [\n        //                 { \"price\": \"45\", \"order_count\": 2, \"quantity\": \"4193.3283464\" }\n        //             ]\n        //         }\n        //     }\n        //\n        const orderbook = this.safeValue (response, 'data', {});\n        return this.parseOrderBook (orderbook, undefined, 'bids', 'asks', 'price', 'quantity');\n    }\n\n    parseTrade (trade, market = undefined) {\n        //\n        // fetchTrades (public)\n        //\n        //     {\n        //         \"id\": 38199941,\n        //         \"price\": \"3378.67\",\n        //         \"amount\": \"0.019812\",\n        //         \"taker_side\": \"ASK\",\n        //         \"created_at\": \"2019-01-29T06:05:56Z\"\n        //     }\n        //\n        // fetchMyTrades (private)\n        //\n        //     {\n        //         \"id\": 10854280,\n        //         \"asset_pair_name\": \"XIN-USDT\",\n        //         \"price\": \"70\",\n        //         \"amount\": \"1\",\n        //         \"taker_side\": \"ASK\",\n        //         \"maker_order_id\": 58284908,\n        //         \"taker_order_id\": 58284909,\n        //         \"maker_fee\": \"0.0008\",\n        //         \"taker_fee\": \"0.07\",\n        //         \"side\": \"SELF_TRADING\",\n        //         \"inserted_at\": \"2019-04-16T12:00:01Z\"\n        //     },\n        //\n        //     {\n        //         \"id\": 10854263,\n        //         \"asset_pair_name\": \"XIN-USDT\",\n        //         \"price\": \"75.7\",\n        //         \"amount\": \"12.743149\",\n        //         \"taker_side\": \"BID\",\n        //         \"maker_order_id\": null,\n        //         \"taker_order_id\": 58284888,\n        //         \"maker_fee\": null,\n        //         \"taker_fee\": \"0.0025486298\",\n        //         \"side\": \"BID\",\n        //         \"inserted_at\": \"2019-04-15T06:20:57Z\"\n        //     }\n        //\n        const timestamp = this.parse8601 (this.safeString2 (trade, 'created_at', 'inserted_at'));\n        const price = this.safeFloat (trade, 'price');\n        const amount = this.safeFloat (trade, 'amount');\n        const marketId = this.safeString (trade, 'asset_pair_name');\n        const symbol = this.safeSymbol (marketId, market, '-');\n        let cost = undefined;\n        if (amount !== undefined) {\n            if (price !== undefined) {\n                cost = this.costToPrecision (symbol, price * amount);\n            }\n        }\n        let side = this.safeString (trade, 'side');\n        const takerSide = this.safeString (trade, 'taker_side');\n        let takerOrMaker = undefined;\n        if ((takerSide !== undefined) && (side !== undefined) && (side !== 'SELF_TRADING')) {\n            takerOrMaker = (takerSide === side) ? 'taker' : 'maker';\n        }\n        if (side === undefined) {\n            // taker side is not related to buy/sell side\n            // the following code is probably a mistake\n            side = (takerSide === 'ASK') ? 'sell' : 'buy';\n        } else {\n            if (side === 'BID') {\n                side = 'buy';\n            } else if (side === 'ASK') {\n                side = 'sell';\n            }\n        }\n        const makerOrderId = this.safeString (trade, 'maker_order_id');\n        const takerOrderId = this.safeString (trade, 'taker_order_id');\n        let orderId = undefined;\n        if (makerOrderId !== undefined) {\n            if (takerOrderId !== undefined) {\n                orderId = [ makerOrderId, takerOrderId ];\n            } else {\n                orderId = makerOrderId;\n            }\n        } else if (takerOrderId !== undefined) {\n            orderId = takerOrderId;\n        }\n        const id = this.safeString (trade, 'id');\n        const result = {\n            'id': id,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'symbol': symbol,\n            'order': orderId,\n            'type': 'limit',\n            'side': side,\n            'takerOrMaker': takerOrMaker,\n            'price': price,\n            'amount': amount,\n            'cost': parseFloat (cost),\n            'info': trade,\n        };\n        let makerCurrencyCode = undefined;\n        let takerCurrencyCode = undefined;\n        if ((market !== undefined) && (takerOrMaker !== undefined)) {\n            if (side === 'buy') {\n                if (takerOrMaker === 'maker') {\n                    makerCurrencyCode = market['base'];\n                    takerCurrencyCode = market['quote'];\n                } else {\n                    makerCurrencyCode = market['quote'];\n                    takerCurrencyCode = market['base'];\n                }\n            } else {\n                if (takerOrMaker === 'maker') {\n                    makerCurrencyCode = market['quote'];\n                    takerCurrencyCode = market['base'];\n                } else {\n                    makerCurrencyCode = market['base'];\n                    takerCurrencyCode = market['quote'];\n                }\n            }\n        } else if (side === 'SELF_TRADING') {\n            if (takerSide === 'BID') {\n                makerCurrencyCode = market['quote'];\n                takerCurrencyCode = market['base'];\n            } else if (takerSide === 'ASK') {\n                makerCurrencyCode = market['base'];\n                takerCurrencyCode = market['quote'];\n            }\n        }\n        const makerFeeCost = this.safeFloat (trade, 'maker_fee');\n        const takerFeeCost = this.safeFloat (trade, 'taker_fee');\n        if (makerFeeCost !== undefined) {\n            if (takerFeeCost !== undefined) {\n                result['fees'] = [\n                    { 'cost': makerFeeCost, 'currency': makerCurrencyCode },\n                    { 'cost': takerFeeCost, 'currency': takerCurrencyCode },\n                ];\n            } else {\n                result['fee'] = { 'cost': makerFeeCost, 'currency': makerCurrencyCode };\n            }\n        } else if (takerFeeCost !== undefined) {\n            result['fee'] = { 'cost': takerFeeCost, 'currency': takerCurrencyCode };\n        } else {\n            result['fee'] = undefined;\n        }\n        return result;\n    }\n\n    async fetchTrades (symbol, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n        };\n        const response = await this.publicGetAssetPairsAssetPairNameTrades (this.extend (request, params));\n        //\n        //     {\n        //         \"code\": 0,\n        //         \"data\": [\n        //             {\n        //                 \"id\": 38199941,\n        //                 \"price\": \"3378.67\",\n        //                 \"amount\": \"0.019812\",\n        //                 \"taker_side\": \"ASK\",\n        //                 \"created_at\": \"2019-01-29T06:05:56Z\"\n        //             },\n        //             {\n        //                 \"id\": 38199934,\n        //                 \"price\": \"3376.14\",\n        //                 \"amount\": \"0.019384\",\n        //                 \"taker_side\": \"ASK\",\n        //                 \"created_at\": \"2019-01-29T06:05:40Z\"\n        //             }\n        //         ]\n        //     }\n        //\n        const trades = this.safeValue (response, 'data', []);\n        return this.parseTrades (trades, market, since, limit);\n    }\n\n    parseOHLCV (ohlcv, market = undefined) {\n        //\n        //     {\n        //         close: '0.021562',\n        //         high: '0.021563',\n        //         low: '0.02156',\n        //         open: '0.021563',\n        //         time: '2019-11-21T07:54:00Z',\n        //         volume: '59.84376'\n        //     }\n        //\n        return [\n            this.parse8601 (this.safeString (ohlcv, 'time')),\n            this.safeFloat (ohlcv, 'open'),\n            this.safeFloat (ohlcv, 'high'),\n            this.safeFloat (ohlcv, 'low'),\n            this.safeFloat (ohlcv, 'close'),\n            this.safeFloat (ohlcv, 'volume'),\n        ];\n    }\n\n    async fetchOHLCV (symbol, timeframe = '1m', since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        if (limit === undefined) {\n            limit = 100; // default 100, max 500\n        }\n        const request = {\n            'asset_pair_name': market['id'],\n            'period': this.timeframes[timeframe],\n            'limit': limit,\n        };\n        if (since !== undefined) {\n            // const start = parseInt (since / 1000);\n            const end = this.sum (since, limit * this.parseTimeframe (timeframe) * 1000);\n            request['time'] = this.iso8601 (end);\n        }\n        const response = await this.publicGetAssetPairsAssetPairNameCandles (this.extend (request, params));\n        //\n        //     {\n        //         code: 0,\n        //         data: [\n        //             {\n        //                 close: '0.021656',\n        //                 high: '0.021658',\n        //                 low: '0.021652',\n        //                 open: '0.021652',\n        //                 time: '2019-11-21T09:30:00Z',\n        //                 volume: '53.08664'\n        //             },\n        //             {\n        //                 close: '0.021652',\n        //                 high: '0.021656',\n        //                 low: '0.021652',\n        //                 open: '0.021656',\n        //                 time: '2019-11-21T09:29:00Z',\n        //                 volume: '88.39861'\n        //             },\n        //         ]\n        //     }\n        //\n        const data = this.safeValue (response, 'data', []);\n        return this.parseOHLCVs (data, market, timeframe, since, limit);\n    }\n\n    async fetchBalance (params = {}) {\n        await this.loadMarkets ();\n        const type = this.safeString (params, 'type', '');\n        params = this.omit (params, 'type');\n        const method = 'privateGet' + this.capitalize (type) + 'Accounts';\n        const response = await this[method] (params);\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\":[\n        //             {\"asset_symbol\":\"NKC\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n        //             {\"asset_symbol\":\"UBTC\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n        //             {\"asset_symbol\":\"READ\",\"balance\":\"0\",\"locked_balance\":\"0\"},\n        //         ],\n        //     }\n        //\n        const result = { 'info': response };\n        const balances = this.safeValue (response, 'data', []);\n        for (let i = 0; i < balances.length; i++) {\n            const balance = balances[i];\n            const symbol = this.safeString (balance, 'asset_symbol');\n            const code = this.safeCurrencyCode (symbol);\n            const account = this.account ();\n            account['total'] = this.safeFloat (balance, 'balance');\n            account['used'] = this.safeFloat (balance, 'locked_balance');\n            result[code] = account;\n        }\n        return this.parseBalance (result);\n    }\n\n    parseOrder (order, market = undefined) {\n        //\n        //    {\n        //        \"id\": 10,\n        //        \"asset_pair_name\": \"EOS-BTC\",\n        //        \"price\": \"10.00\",\n        //        \"amount\": \"10.00\",\n        //        \"filled_amount\": \"9.0\",\n        //        \"avg_deal_price\": \"12.0\",\n        //        \"side\": \"ASK\",\n        //        \"state\": \"FILLED\",\n        //        \"created_at\":\"2019-01-29T06:05:56Z\",\n        //        \"updated_at\":\"2019-01-29T06:05:56Z\",\n        //    }\n        //\n        const id = this.safeString (order, 'id');\n        const marketId = this.safeString (order, 'asset_pair_name');\n        const symbol = this.safeSymbol (marketId, market, '-');\n        const timestamp = this.parse8601 (this.safeString (order, 'created_at'));\n        const price = this.safeFloat (order, 'price');\n        const amount = this.safeFloat (order, 'amount');\n        const filled = this.safeFloat (order, 'filled_amount');\n        let remaining = undefined;\n        if (amount !== undefined && filled !== undefined) {\n            remaining = Math.max (0, amount - filled);\n        }\n        const status = this.parseOrderStatus (this.safeString (order, 'state'));\n        let side = this.safeString (order, 'side');\n        if (side === 'BID') {\n            side = 'buy';\n        } else {\n            side = 'sell';\n        }\n        let cost = undefined;\n        if (filled !== undefined) {\n            if (price !== undefined) {\n                cost = filled * price;\n            }\n        }\n        const lastTradeTimestamp = this.parse8601 (this.safeString (order, 'updated_at'));\n        const average = this.safeFloat (order, 'avg_deal_price');\n        return {\n            'info': order,\n            'id': id,\n            'clientOrderId': undefined,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'lastTradeTimestamp': lastTradeTimestamp,\n            'symbol': symbol,\n            'type': undefined,\n            'timeInForce': undefined,\n            'postOnly': undefined,\n            'side': side,\n            'price': price,\n            'stopPrice': undefined,\n            'amount': amount,\n            'cost': cost,\n            'average': average,\n            'filled': filled,\n            'remaining': remaining,\n            'status': status,\n            'fee': undefined,\n            'trades': undefined,\n        };\n    }\n\n    async createOrder (symbol, type, side, amount, price = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        side = (side === 'buy') ? 'BID' : 'ASK';\n        const uppercaseType = type.toUpperCase ();\n        const request = {\n            'asset_pair_name': market['id'], // asset pair name BTC-USDT, required\n            'side': side, // order side one of \"ASK\"/\"BID\", required\n            'amount': this.amountToPrecision (symbol, amount), // order amount, string, required\n            // 'price': this.priceToPrecision (symbol, price), // order price, string, required\n            'type': uppercaseType,\n            // 'operator': 'GTE', // stop orders only, GTE greater than and equal, LTE less than and equal\n            // 'immediate_or_cancel': false, // limit orders only, must be false when post_only is true\n            // 'post_only': false, // limit orders only, must be false when immediate_or_cancel is true\n        };\n        if (uppercaseType === 'LIMIT') {\n            request['price'] = this.priceToPrecision (symbol, price);\n        } else {\n            const isStopLimit = (uppercaseType === 'STOP_LIMIT');\n            const isStopMarket = (uppercaseType === 'STOP_MARKET');\n            if (isStopLimit || isStopMarket) {\n                const stopPrice = this.safeFloat2 (params, 'stop_price', 'stopPrice');\n                if (stopPrice === undefined) {\n                    throw new ArgumentsRequired (this.id + ' createOrder requires a stop_price parameter');\n                }\n                request['stop_price'] = this.priceToPrecision (symbol, stopPrice);\n                params = this.omit (params, [ 'stop_price', 'stopPrice' ]);\n            }\n            if (isStopLimit) {\n                request['price'] = this.priceToPrecision (symbol, price);\n            }\n        }\n        const response = await this.privatePostOrders (this.extend (request, params));\n        //\n        //    {\n        //        \"id\": 10,\n        //        \"asset_pair_name\": \"EOS-BTC\",\n        //        \"price\": \"10.00\",\n        //        \"amount\": \"10.00\",\n        //        \"filled_amount\": \"9.0\",\n        //        \"avg_deal_price\": \"12.0\",\n        //        \"side\": \"ASK\",\n        //        \"state\": \"FILLED\",\n        //        \"created_at\":\"2019-01-29T06:05:56Z\",\n        //        \"updated_at\":\"2019-01-29T06:05:56Z\"\n        //    }\n        //\n        const order = this.safeValue (response, 'data');\n        return this.parseOrder (order, market);\n    }\n\n    async cancelOrder (id, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = { 'id': id };\n        const response = await this.privatePostOrdersIdCancel (this.extend (request, params));\n        //    {\n        //        \"id\": 10,\n        //        \"asset_pair_name\": \"EOS-BTC\",\n        //        \"price\": \"10.00\",\n        //        \"amount\": \"10.00\",\n        //        \"filled_amount\": \"9.0\",\n        //        \"avg_deal_price\": \"12.0\",\n        //        \"side\": \"ASK\",\n        //        \"state\": \"CANCELLED\",\n        //        \"created_at\":\"2019-01-29T06:05:56Z\",\n        //        \"updated_at\":\"2019-01-29T06:05:56Z\"\n        //    }\n        const order = this.safeValue (response, 'data');\n        return this.parseOrder (order);\n    }\n\n    async cancelAllOrders (symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n        };\n        const response = await this.privatePostOrdersCancel (this.extend (request, params));\n        //\n        //     {\n        //         \"code\":0,\n        //         \"data\": {\n        //             \"cancelled\":[\n        //                 58272370,\n        //                 58272377\n        //             ],\n        //             \"failed\": []\n        //         }\n        //     }\n        //\n        return response;\n    }\n\n    async fetchOrder (id, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = { 'id': id };\n        const response = await this.privateGetOrdersId (this.extend (request, params));\n        const order = this.safeValue (response, 'data', {});\n        return this.parseOrder (order);\n    }\n\n    async fetchOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        if (symbol === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchOrders() requires a symbol argument');\n        }\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n            // 'page_token': 'dxzef', // request page after this page token\n            // 'side': 'ASK', // 'ASK' or 'BID', optional\n            // 'state': 'FILLED', // 'CANCELLED', 'FILLED', 'PENDING'\n            // 'limit' 20, // default 20, max 200\n        };\n        if (limit !== undefined) {\n            request['limit'] = limit; // default 20, max 200\n        }\n        const response = await this.privateGetOrders (this.extend (request, params));\n        //\n        //    {\n        //        \"code\":0,\n        //        \"data\": [\n        //             {\n        //                 \"id\": 10,\n        //                 \"asset_pair_name\": \"ETH-BTC\",\n        //                 \"price\": \"10.00\",\n        //                 \"amount\": \"10.00\",\n        //                 \"filled_amount\": \"9.0\",\n        //                 \"avg_deal_price\": \"12.0\",\n        //                 \"side\": \"ASK\",\n        //                 \"state\": \"FILLED\",\n        //                 \"created_at\":\"2019-01-29T06:05:56Z\",\n        //                 \"updated_at\":\"2019-01-29T06:05:56Z\",\n        //             },\n        //         ],\n        //        \"page_token\":\"dxzef\",\n        //    }\n        //\n        const orders = this.safeValue (response, 'data', []);\n        return this.parseOrders (orders, market, since, limit);\n    }\n\n    async fetchMyTrades (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        if (symbol === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchMyTrades() requires a symbol argument');\n        }\n        const market = this.market (symbol);\n        const request = {\n            'asset_pair_name': market['id'],\n            // 'page_token': 'dxzef', // request page after this page token\n        };\n        if (limit !== undefined) {\n            request['limit'] = limit; // default 20, max 200\n        }\n        const response = await this.privateGetTrades (this.extend (request, params));\n        //\n        //     {\n        //         \"code\": 0,\n        //         \"data\": [\n        //             {\n        //                 \"id\": 10854280,\n        //                 \"asset_pair_name\": \"XIN-USDT\",\n        //                 \"price\": \"70\",\n        //                 \"amount\": \"1\",\n        //                 \"taker_side\": \"ASK\",\n        //                 \"maker_order_id\": 58284908,\n        //                 \"taker_order_id\": 58284909,\n        //                 \"maker_fee\": \"0.0008\",\n        //                 \"taker_fee\": \"0.07\",\n        //                 \"side\": \"SELF_TRADING\",\n        //                 \"inserted_at\": \"2019-04-16T12:00:01Z\"\n        //             },\n        //             {\n        //                 \"id\": 10854263,\n        //                 \"asset_pair_name\": \"XIN-USDT\",\n        //                 \"price\": \"75.7\",\n        //                 \"amount\": \"12.743149\",\n        //                 \"taker_side\": \"BID\",\n        //                 \"maker_order_id\": null,\n        //                 \"taker_order_id\": 58284888,\n        //                 \"maker_fee\": null,\n        //                 \"taker_fee\": \"0.0025486298\",\n        //                 \"side\": \"BID\",\n        //                 \"inserted_at\": \"2019-04-15T06:20:57Z\"\n        //             }\n        //         ],\n        //         \"page_token\":\"dxfv\"\n        //     }\n        //\n        const trades = this.safeValue (response, 'data', []);\n        return this.parseTrades (trades, market, since, limit);\n    }\n\n    parseOrderStatus (status) {\n        const statuses = {\n            'PENDING': 'open',\n            'FILLED': 'closed',\n            'CANCELLED': 'canceled',\n        };\n        return this.safeString (statuses, status);\n    }\n\n    async fetchOpenOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        const request = {\n            'state': 'PENDING',\n        };\n        return await this.fetchOrders (symbol, since, limit, this.extend (request, params));\n    }\n\n    async fetchClosedOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        const request = {\n            'state': 'FILLED',\n        };\n        return await this.fetchOrders (symbol, since, limit, this.extend (request, params));\n    }\n\n    nonce () {\n        return this.microseconds () * 1000;\n    }\n\n    sign (path, api = 'public', method = 'GET', params = {}, headers = undefined, body = undefined) {\n        const query = this.omit (params, this.extractParams (path));\n        const baseUrl = this.implodeParams (this.urls['api'][api], { 'hostname': this.hostname });\n        let url = baseUrl + '/' + this.implodeParams (path, params);\n        if (api === 'public') {\n            if (Object.keys (query).length) {\n                url += '?' + this.urlencode (query);\n            }\n        } else {\n            this.checkRequiredCredentials ();\n            const nonce = this.nonce ().toString ();\n            const request = {\n                'type': 'OpenAPIV2',\n                'sub': this.apiKey,\n                'nonce': nonce,\n                // 'recv_window': '30', // default 30\n            };\n            const jwt = this.jwt (request, this.encode (this.secret));\n            headers = {\n                'Authorization': 'Bearer ' + jwt,\n            };\n            if (method === 'GET') {\n                if (Object.keys (query).length) {\n                    url += '?' + this.urlencode (query);\n                }\n            } else if (method === 'POST') {\n                headers['Content-Type'] = 'application/json';\n                body = this.json (query);\n            }\n        }\n        return { 'url': url, 'method': method, 'body': body, 'headers': headers };\n    }\n\n    async fetchDepositAddress (code, params = {}) {\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'asset_symbol': currency['id'],\n        };\n        const response = await this.privateGetAssetsAssetSymbolAddress (this.extend (request, params));\n        //\n        // the actual response format is not the same as the documented one\n        // the data key contains an array in the actual response\n        //\n        //     {\n        //         \"code\":0,\n        //         \"message\":\"\",\n        //         \"data\":[\n        //             {\n        //                 \"id\":5521878,\n        //                 \"chain\":\"Bitcoin\",\n        //                 \"value\":\"1GbmyKoikhpiQVZ1C9sbF17mTyvBjeobVe\",\n        //                 \"memo\":\"\"\n        //             }\n        //         ]\n        //     }\n        //\n        const data = this.safeValue (response, 'data', []);\n        const dataLength = data.length;\n        if (dataLength < 1) {\n            throw new ExchangeError (this.id + 'fetchDepositAddress() returned empty address response');\n        }\n        const firstElement = data[0];\n        const address = this.safeString (firstElement, 'value');\n        const tag = this.safeString (firstElement, 'memo');\n        this.checkAddress (address);\n        return {\n            'currency': code,\n            'address': address,\n            'tag': tag,\n            'info': response,\n        };\n    }\n\n    parseTransactionStatus (status) {\n        const statuses = {\n            // what are other statuses here?\n            'WITHHOLD': 'ok', // deposits\n            'UNCONFIRMED': 'pending',\n            'CONFIRMED': 'ok', // withdrawals\n        };\n        return this.safeString (statuses, status, status);\n    }\n\n    parseTransaction (transaction, currency = undefined) {\n        //\n        // fetchDeposits\n        //\n        //     {\n        //         \"amount\": \"25.0\",\n        //         \"asset_symbol\": \"BTS\"\n        //         \"confirms\": 100,\n        //         \"id\": 5,\n        //         \"inserted_at\": \"2018-02-16T11:39:58.000Z\",\n        //         \"is_internal\": false,\n        //         \"kind\": \"default\",\n        //         \"memo\": \"\",\n        //         \"state\": \"WITHHOLD\",\n        //         \"txid\": \"72e03037d144dae3d32b68b5045462b1049a0755\",\n        //         \"updated_at\": \"2018-11-09T10:20:09.000Z\",\n        //     }\n        //\n        // fetchWithdrawals\n        //\n        //     {\n        //         \"amount\": \"5\",\n        //         \"asset_symbol\": \"ETH\",\n        //         \"completed_at\": \"2018-03-15T16:13:45.610463Z\",\n        //         \"customer_id\": \"10\",\n        //         \"id\": 10,\n        //         \"inserted_at\": \"2018-03-15T16:13:45.610463Z\",\n        //         \"is_internal\": true,\n        //         \"note\": \"2018-03-15T16:13:45.610463Z\",\n        //         \"state\": \"CONFIRMED\",\n        //         \"target_address\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f7\"\n        //         \"txid\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f73a3ca90a15356f2e967da0\",\n        //     }\n        //\n        // withdraw\n        //\n        //     {\n        //         \"id\":1077391,\n        //         \"customer_id\":1082679,\n        //         \"amount\":\"21.9000000000000000\",\n        //         \"txid\":\"\",\n        //         \"is_internal\":false,\n        //         \"kind\":\"on_chain\",\n        //         \"state\":\"PENDING\",\n        //         \"inserted_at\":\"2020-06-03T00:50:57+00:00\",\n        //         \"updated_at\":\"2020-06-03T00:50:57+00:00\",\n        //         \"memo\":\"\",\n        //         \"target_address\":\"rDYtYT3dBeuw376rvHqoZBKW3UmvguoBAf\",\n        //         \"fee\":\"0.1000000000000000\",\n        //         \"asset_symbol\":\"XRP\"\n        //     }\n        //\n        const currencyId = this.safeString (transaction, 'asset_symbol');\n        const code = this.safeCurrencyCode (currencyId);\n        const id = this.safeInteger (transaction, 'id');\n        const amount = this.safeFloat (transaction, 'amount');\n        const status = this.parseTransactionStatus (this.safeString (transaction, 'state'));\n        const timestamp = this.parse8601 (this.safeString (transaction, 'inserted_at'));\n        const updated = this.parse8601 (this.safeString2 (transaction, 'updated_at', 'completed_at'));\n        const txid = this.safeString (transaction, 'txid');\n        const address = this.safeString (transaction, 'target_address');\n        const tag = this.safeString (transaction, 'memo');\n        const type = ('customer_id' in transaction) ? 'deposit' : 'withdrawal';\n        return {\n            'info': transaction,\n            'id': id,\n            'txid': txid,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'addressFrom': undefined,\n            'address': undefined,\n            'addressTo': address,\n            'tagFrom': undefined,\n            'tag': tag,\n            'tagTo': undefined,\n            'type': type,\n            'amount': amount,\n            'currency': code,\n            'status': status,\n            'updated': updated,\n            'fee': undefined,\n        };\n    }\n\n    async fetchDeposits (code = undefined, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            // 'page_token': 'dxzef', // request page after this page token\n            // 'limit': 50, // optional, default 50\n            // 'kind': 'string', // optional - air_drop, big_holder_dividend, default, eosc_to_eos, internal, equally_airdrop, referral_mining, one_holder_dividend, single_customer, snapshotted_airdrop, trade_mining\n            // 'asset_symbol': 'BTC', // optional\n        };\n        let currency = undefined;\n        if (code !== undefined) {\n            currency = this.currency (code);\n            request['asset_symbol'] = currency['id'];\n        }\n        if (limit !== undefined) {\n            request['limit'] = limit; // default 50\n        }\n        const response = await this.privateGetDeposits (this.extend (request, params));\n        //\n        //     {\n        //         \"code\": 0,\n        //         \"page_token\": \"NQ==\",\n        //         \"data\": [\n        //             {\n        //                 \"id\": 5,\n        //                 \"amount\": \"25.0\",\n        //                 \"confirms\": 100,\n        //                 \"txid\": \"72e03037d144dae3d32b68b5045462b1049a0755\",\n        //                 \"is_internal\": false,\n        //                 \"inserted_at\": \"2018-02-16T11:39:58.000Z\",\n        //                 \"updated_at\": \"2018-11-09T10:20:09.000Z\",\n        //                 \"kind\": \"default\",\n        //                 \"memo\": \"\",\n        //                 \"state\": \"WITHHOLD\",\n        //                 \"asset_symbol\": \"BTS\"\n        //             }\n        //         ]\n        //     }\n        //\n        const deposits = this.safeValue (response, 'data', []);\n        return this.parseTransactions (deposits, code, since, limit);\n    }\n\n    async fetchWithdrawals (code = undefined, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            // 'page_token': 'dxzef', // request page after this page token\n            // 'limit': 50, // optional, default 50\n            // 'kind': 'string', // optional - air_drop, big_holder_dividend, default, eosc_to_eos, internal, equally_airdrop, referral_mining, one_holder_dividend, single_customer, snapshotted_airdrop, trade_mining\n            // 'asset_symbol': 'BTC', // optional\n        };\n        let currency = undefined;\n        if (code !== undefined) {\n            currency = this.currency (code);\n            request['asset_symbol'] = currency['id'];\n        }\n        if (limit !== undefined) {\n            request['limit'] = limit; // default 50\n        }\n        const response = await this.privateGetWithdrawals (this.extend (request, params));\n        //\n        //     {\n        //         \"code\": 0,\n        //         \"data\": [\n        //             {\n        //                 \"id\": 10,\n        //                 \"customer_id\": \"10\",\n        //                 \"asset_symbol\": \"ETH\",\n        //                 \"amount\": \"5\",\n        //                 \"state\": \"CONFIRMED\",\n        //                 \"note\": \"2018-03-15T16:13:45.610463Z\",\n        //                 \"txid\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f73a3ca90a15356f2e967da0\",\n        //                 \"completed_at\": \"2018-03-15T16:13:45.610463Z\",\n        //                 \"inserted_at\": \"2018-03-15T16:13:45.610463Z\",\n        //                 \"is_internal\": true,\n        //                 \"target_address\": \"0x4643bb6b393ac20a6175c713175734a72517c63d6f7\"\n        //             }\n        //         ],\n        //         \"page_token\":\"dxvf\"\n        //     }\n        //\n        const withdrawals = this.safeValue (response, 'data', []);\n        return this.parseTransactions (withdrawals, code, since, limit);\n    }\n\n    async withdraw (code, amount, address, tag = undefined, params = {}) {\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'symbol': currency['id'],\n            'target_address': address,\n            'amount': this.currencyToPrecision (code, amount),\n        };\n        if (tag !== undefined) {\n            request['memo'] = tag;\n        }\n        // requires write permission on the wallet\n        const response = await this.privatePostWithdrawals (this.extend (request, params));\n        //\n        //     {\n        //         \"code\":0,\n        //         \"message\":\"\",\n        //         \"data\":{\n        //             \"id\":1077391,\n        //             \"customer_id\":1082679,\n        //             \"amount\":\"21.9000000000000000\",\n        //             \"txid\":\"\",\n        //             \"is_internal\":false,\n        //             \"kind\":\"on_chain\",\n        //             \"state\":\"PENDING\",\n        //             \"inserted_at\":\"2020-06-03T00:50:57+00:00\",\n        //             \"updated_at\":\"2020-06-03T00:50:57+00:00\",\n        //             \"memo\":\"\",\n        //             \"target_address\":\"rDYtYT3dBeuw376rvHqoZBKW3UmvguoBAf\",\n        //             \"fee\":\"0.1000000000000000\",\n        //             \"asset_symbol\":\"XRP\"\n        //         }\n        //     }\n        //\n        const data = this.safeValue (response, 'data', {});\n        return this.parseTransaction (data, currency);\n    }\n\n    handleErrors (httpCode, reason, url, method, headers, body, response, requestHeaders, requestBody) {\n        if (response === undefined) {\n            return; // fallback to default error handler\n        }\n        //\n        //      {\"code\":10013,\"message\":\"Resource not found\"}\n        //      {\"code\":40004,\"message\":\"invalid jwt\"}\n        //\n        const code = this.safeString (response, 'code');\n        const message = this.safeString (response, 'message');\n        if (code !== '0') {\n            const feedback = this.id + ' ' + body;\n            this.throwExactlyMatchedException (this.exceptions['exact'], message, feedback);\n            this.throwExactlyMatchedException (this.exceptions['exact'], code, feedback);\n            this.throwBroadlyMatchedException (this.exceptions['broad'], message, feedback);\n            throw new ExchangeError (feedback); // unknown message\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"script"}