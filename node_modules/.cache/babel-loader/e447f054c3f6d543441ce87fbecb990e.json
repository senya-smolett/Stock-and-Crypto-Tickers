{"ast":null,"code":"'use strict'; //  ---------------------------------------------------------------------------\n\nconst Exchange = require('./base/Exchange');\n\nconst {\n  ExchangeError,\n  ArgumentsRequired,\n  ExchangeNotAvailable,\n  PermissionDenied,\n  InvalidOrder,\n  AuthenticationError,\n  InsufficientFunds,\n  OrderNotFound,\n  DDoSProtection,\n  OnMaintenance,\n  RateLimitExceeded\n} = require('./base/errors'); //  ---------------------------------------------------------------------------\n\n\nmodule.exports = class bitz extends Exchange {\n  describe() {\n    return this.deepExtend(super.describe(), {\n      'id': 'bitz',\n      'name': 'Bit-Z',\n      'countries': ['HK'],\n      'rateLimit': 2000,\n      'version': 'v2',\n      'userAgent': this.userAgents['chrome'],\n      'has': {\n        'cancelOrder': true,\n        'cancelOrders': true,\n        'createOrder': true,\n        'createMarketOrder': false,\n        'fetchBalance': true,\n        'fetchDeposits': true,\n        'fetchClosedOrders': true,\n        'fetchMarkets': true,\n        'fetchOHLCV': true,\n        'fetchOpenOrders': true,\n        'fetchOrder': true,\n        'fetchOrderBook': true,\n        'fetchOrders': true,\n        'fetchTicker': true,\n        'fetchTickers': true,\n        'fetchTime': true,\n        'fetchTrades': true,\n        'fetchTransactions': false,\n        'fetchWithdrawals': true,\n        'withdraw': true\n      },\n      'timeframes': {\n        '1m': '1min',\n        '5m': '5min',\n        '15m': '15min',\n        '30m': '30min',\n        '1h': '60min',\n        '4h': '4hour',\n        '1d': '1day',\n        '5d': '5day',\n        '1w': '1week',\n        '1M': '1mon'\n      },\n      'hostname': 'apiv2.bitz.com',\n      'urls': {\n        'logo': 'https://user-images.githubusercontent.com/51840849/87443304-fec5e000-c5fd-11ea-98f8-ba8e67f7eaff.jpg',\n        'api': {\n          'market': 'https://{hostname}',\n          'trade': 'https://{hostname}',\n          'assets': 'https://{hostname}'\n        },\n        'www': 'https://www.bitz.com',\n        'doc': 'https://apidoc.bitz.com/en/',\n        'fees': 'https://www.bitz.com/fee?type=1',\n        'referral': 'https://u.bitz.com/register?invite_code=1429193'\n      },\n      'api': {\n        'market': {\n          'get': ['ticker', 'depth', 'order', // trades\n          'tickerall', 'kline', 'symbolList', 'getServerTime', 'currencyRate', 'currencyCoinRate', 'coinRate']\n        },\n        'trade': {\n          'post': ['addEntrustSheet', 'cancelEntrustSheet', 'cancelAllEntrustSheet', 'coinOut', // withdraw\n          'getUserHistoryEntrustSheet', // closed orders\n          'getUserNowEntrustSheet', // open orders\n          'getEntrustSheetInfo', // order\n          'depositOrWithdraw' // transactions\n          ]\n        },\n        'assets': {\n          'post': ['getUserAssets']\n        }\n      },\n      'fees': {\n        'trading': {\n          'maker': 0.002,\n          'taker': 0.002\n        },\n        'funding': {\n          'withdraw': {\n            'BTC': '0.5%',\n            'DKKT': '0.5%',\n            'ETH': 0.01,\n            'USDT': '0.5%',\n            'LTC': '0.5%',\n            'FCT': '0.5%',\n            'LSK': '0.5%',\n            'HXI': '0.8%',\n            'ZEC': '0.5%',\n            'DOGE': '0.5%',\n            'MZC': '0.5%',\n            'ETC': '0.5%',\n            'GXS': '0.5%',\n            'XPM': '0.5%',\n            'PPC': '0.5%',\n            'BLK': '0.5%',\n            'XAS': '0.5%',\n            'HSR': '0.5%',\n            'NULS': 5.0,\n            'VOISE': 350.0,\n            'PAY': 1.5,\n            'EOS': 0.6,\n            'YBCT': 35.0,\n            'OMG': 0.3,\n            'OTN': 0.4,\n            'BTX': '0.5%',\n            'QTUM': '0.5%',\n            'DASH': '0.5%',\n            'GAME': '0.5%',\n            'BCH': '0.5%',\n            'GNT': 9.0,\n            'SSS': 1500.0,\n            'ARK': '0.5%',\n            'PART': '0.5%',\n            'LEO': '0.5%',\n            'DGB': '0.5%',\n            'ZSC': 130.0,\n            'VIU': 350.0,\n            'BTG': '0.5%',\n            'ARN': 10.0,\n            'VTC': '0.5%',\n            'BCD': '0.5%',\n            'TRX': 200.0,\n            'HWC': '0.5%',\n            'UNIT': '0.5%',\n            'OXY': '0.5%',\n            'MCO': 0.3500,\n            'SBTC': '0.5%',\n            'BCX': '0.5%',\n            'ETF': '0.5%',\n            'PYLNT': 0.4000,\n            'XRB': '0.5%',\n            'ETP': '0.5%'\n          }\n        }\n      },\n      'precision': {\n        'amount': 8,\n        'price': 8\n      },\n      'options': {\n        'fetchOHLCVVolume': true,\n        'fetchOHLCVWarning': true,\n        'lastNonceTimestamp': 0\n      },\n      'commonCurrencies': {\n        // https://github.com/ccxt/ccxt/issues/3881\n        // https://support.bit-z.pro/hc/en-us/articles/360007500654-BOX-BOX-Token-\n        'BOX': 'BOX Token',\n        'LEO': 'LeoCoin',\n        'XRB': 'NANO',\n        'PXC': 'Pixiecoin',\n        'VTC': 'VoteCoin',\n        'TTC': 'TimesChain'\n      },\n      'exceptions': {\n        // '200': Success\n        '-102': ExchangeError,\n        // Invalid parameter\n        '-103': AuthenticationError,\n        // Verification failed\n        '-104': ExchangeNotAvailable,\n        // Network Error-1\n        '-105': AuthenticationError,\n        // Invalid api signature\n        '-106': ExchangeNotAvailable,\n        // Network Error-2\n        '-109': AuthenticationError,\n        // Invalid scretKey\n        '-110': DDoSProtection,\n        // The number of access requests exceeded\n        '-111': PermissionDenied,\n        // Current IP is not in the range of trusted IP\n        '-112': OnMaintenance,\n        // Service is under maintenance\n        '-114': RateLimitExceeded,\n        // The number of daily requests has reached the limit\n        '-117': AuthenticationError,\n        // The apikey expires\n        '-100015': AuthenticationError,\n        // Trade password error\n        '-100044': ExchangeError,\n        // Fail to request data\n        '-100101': ExchangeError,\n        // Invalid symbol\n        '-100201': ExchangeError,\n        // Invalid symbol\n        '-100301': ExchangeError,\n        // Invalid symbol\n        '-100401': ExchangeError,\n        // Invalid symbol\n        '-100302': ExchangeError,\n        // Type of K-line error\n        '-100303': ExchangeError,\n        // Size of K-line error\n        '-200003': AuthenticationError,\n        // Please set trade password\n        '-200005': PermissionDenied,\n        // This account can not trade\n        '-200025': ExchangeNotAvailable,\n        // Temporary trading halt\n        '-200027': InvalidOrder,\n        // Price Error\n        '-200028': InvalidOrder,\n        // Amount must be greater than 0\n        '-200029': InvalidOrder,\n        // Number must be between %s and %d\n        '-200030': InvalidOrder,\n        // Over price range\n        '-200031': InsufficientFunds,\n        // Insufficient assets\n        '-200032': ExchangeError,\n        // System error. Please contact customer service\n        '-200033': ExchangeError,\n        // Fail to trade\n        '-200034': OrderNotFound,\n        // The order does not exist\n        '-200035': OrderNotFound,\n        // Cancellation error, order filled\n        '-200037': InvalidOrder,\n        // Trade direction error\n        '-200038': ExchangeError,\n        // Trading Market Error\n        '-200055': OrderNotFound,\n        // Order record does not exist\n        '-300069': AuthenticationError,\n        // api_key is illegal\n        '-300101': ExchangeError,\n        // Transaction type error\n        '-300102': InvalidOrder,\n        // Price or number cannot be less than 0\n        '-300103': AuthenticationError,\n        // Trade password error\n        '-301001': ExchangeNotAvailable // Network Error-3\n\n      }\n    });\n  }\n\n  async fetchMarkets(params = {}) {\n    const response = await this.marketGetSymbolList(params); //\n    //     {    status:    200,\n    //             msg:   \"\",\n    //            data: {   ltc_btc: {          id: \"1\",\n    //                                        name: \"ltc_btc\",\n    //                                    coinFrom: \"ltc\",\n    //                                      coinTo: \"btc\",\n    //                                 numberFloat: \"4\",\n    //                                  priceFloat: \"8\",\n    //                                      status: \"1\",\n    //                                    minTrade: \"0.010\",\n    //                                    maxTrade: \"500000000.000\" },\n    //                    qtum_usdt: {          id: \"196\",\n    //                                        name: \"qtum_usdt\",\n    //                                    coinFrom: \"qtum\",\n    //                                      coinTo: \"usdt\",\n    //                                 numberFloat: \"4\",\n    //                                  priceFloat: \"2\",\n    //                                      status: \"1\",\n    //                                    minTrade: \"0.100\",\n    //                                    maxTrade: \"500000000.000\" },  },\n    //            time:    1535969146,\n    //       microtime:   \"0.66955600 1535969146\",\n    //          source:   \"api\"                                           }\n    //\n\n    const markets = this.safeValue(response, 'data');\n    const ids = Object.keys(markets);\n    const result = [];\n\n    for (let i = 0; i < ids.length; i++) {\n      const id = ids[i];\n      const market = markets[id];\n      const numericId = this.safeString(market, 'id');\n      const baseId = this.safeString(market, 'coinFrom');\n      const quoteId = this.safeString(market, 'coinTo');\n      let base = baseId.toUpperCase();\n      let quote = quoteId.toUpperCase();\n      base = this.safeCurrencyCode(base);\n      quote = this.safeCurrencyCode(quote);\n      const symbol = base + '/' + quote;\n      const precision = {\n        'amount': this.safeInteger(market, 'numberFloat'),\n        'price': this.safeInteger(market, 'priceFloat')\n      };\n      result.push({\n        'info': market,\n        'id': id,\n        'numericId': numericId,\n        'symbol': symbol,\n        'base': base,\n        'quote': quote,\n        'baseId': baseId,\n        'quoteId': quoteId,\n        'active': true,\n        'precision': precision,\n        'limits': {\n          'amount': {\n            'min': this.safeFloat(market, 'minTrade'),\n            'max': this.safeFloat(market, 'maxTrade')\n          },\n          'price': {\n            'min': Math.pow(10, -precision['price']),\n            'max': undefined\n          },\n          'cost': {\n            'min': undefined,\n            'max': undefined\n          }\n        }\n      });\n    }\n\n    return result;\n  }\n\n  async fetchBalance(params = {}) {\n    await this.loadMarkets();\n    const response = await this.assetsPostGetUserAssets(params); //\n    //     {\n    //         status: 200,\n    //         msg: \"\",\n    //         data: {\n    //             cny: 0,\n    //             usd: 0,\n    //             btc_total: 0,\n    //             info: [{\n    //                 \"name\": \"zpr\",\n    //                 \"num\": \"37.49067275\",\n    //                 \"over\": \"37.49067275\",\n    //                 \"lock\": \"0.00000000\",\n    //                 \"btc\": \"0.00000000\",\n    //                 \"usd\": \"0.00000000\",\n    //                 \"cny\": \"0.00000000\",\n    //             }],\n    //         },\n    //         time: 1535983966,\n    //         microtime: \"0.70400500 1535983966\",\n    //         source: \"api\",\n    //     }\n    //\n\n    const balances = this.safeValue(response['data'], 'info');\n    const result = {\n      'info': response\n    };\n\n    for (let i = 0; i < balances.length; i++) {\n      const balance = balances[i];\n      const currencyId = this.safeString(balance, 'name');\n      const code = this.safeCurrencyCode(currencyId);\n      const account = this.account();\n      account['used'] = this.safeFloat(balance, 'lock');\n      account['total'] = this.safeFloat(balance, 'num');\n      account['free'] = this.safeFloat(balance, 'over');\n      result[code] = account;\n    }\n\n    return this.parseBalance(result);\n  }\n\n  parseTicker(ticker, market = undefined) {\n    //\n    //      {          symbol: \"eth_btc\",\n    //            quoteVolume: \"3905.72\",\n    //                 volume: \"97058.21\",\n    //            priceChange: \"-1.72\",\n    //         priceChange24h: \"-1.65\",\n    //               askPrice: \"0.03971272\",\n    //                 askQty: \"0.0663\",\n    //               bidPrice: \"0.03961469\",\n    //                 bidQty: \"19.5451\",\n    //                   open: \"0.04036769\",\n    //                   high: \"0.04062988\",\n    //                    low: \"0.03956123\",\n    //                    now: \"0.03970100\",\n    //                firstId:  115567767,\n    //                 lastId:  115795316,\n    //              dealCount:  14078,\n    //        numberPrecision:  4,\n    //         pricePrecision:  8,\n    //                    cny: \"1959.05\",\n    //                    usd: \"287.10\",\n    //                    krw: \"318655.82\"   }\n    //\n    const timestamp = undefined;\n    const marketId = this.safeString(ticker, 'symbol');\n    const symbol = this.safeSymbol(marketId, market, '_');\n    const last = this.safeFloat(ticker, 'now');\n    const open = this.safeFloat(ticker, 'open');\n    let change = undefined;\n    let average = undefined;\n\n    if (last !== undefined && open !== undefined) {\n      change = last - open;\n      average = this.sum(last, open) / 2;\n    }\n\n    return {\n      'symbol': symbol,\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'high': this.safeFloat(ticker, 'high'),\n      'low': this.safeFloat(ticker, 'low'),\n      'bid': this.safeFloat(ticker, 'bidPrice'),\n      'bidVolume': this.safeFloat(ticker, 'bidQty'),\n      'ask': this.safeFloat(ticker, 'askPrice'),\n      'askVolume': this.safeFloat(ticker, 'askQty'),\n      'vwap': undefined,\n      'open': open,\n      'close': last,\n      'last': last,\n      'previousClose': undefined,\n      'change': change,\n      'percentage': this.safeFloat(ticker, 'priceChange24h'),\n      'average': average,\n      'baseVolume': this.safeFloat(ticker, 'volume'),\n      'quoteVolume': this.safeFloat(ticker, 'quoteVolume'),\n      'info': ticker\n    };\n  }\n\n  parseMicrotime(microtime) {\n    if (microtime === undefined) {\n      return microtime;\n    }\n\n    const parts = microtime.split(' ');\n    const milliseconds = parseFloat(parts[0]);\n    const seconds = parseInt(parts[1]);\n    const total = this.sum(seconds, milliseconds);\n    return parseInt(total * 1000);\n  }\n\n  async fetchTicker(symbol, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'symbol': market['id']\n    };\n    const response = await this.marketGetTicker(this.extend(request, params)); //\n    //     {    status:    200,\n    //             msg:   \"\",\n    //            data: {          symbol: \"eth_btc\",\n    //                        quoteVolume: \"3905.72\",\n    //                             volume: \"97058.21\",\n    //                        priceChange: \"-1.72\",\n    //                     priceChange24h: \"-1.65\",\n    //                           askPrice: \"0.03971272\",\n    //                             askQty: \"0.0663\",\n    //                           bidPrice: \"0.03961469\",\n    //                             bidQty: \"19.5451\",\n    //                               open: \"0.04036769\",\n    //                               high: \"0.04062988\",\n    //                                low: \"0.03956123\",\n    //                                now: \"0.03970100\",\n    //                            firstId:  115567767,\n    //                             lastId:  115795316,\n    //                          dealCount:  14078,\n    //                    numberPrecision:  4,\n    //                     pricePrecision:  8,\n    //                                cny: \"1959.05\",\n    //                                usd: \"287.10\",\n    //                                krw: \"318655.82\"   },\n    //            time:    1535970397,\n    //       microtime:   \"0.76341900 1535970397\",\n    //          source:   \"api\"                             }\n    //\n\n    const ticker = this.parseTicker(response['data'], market);\n    const timestamp = this.parseMicrotime(this.safeString(response, 'microtime'));\n    return this.extend(ticker, {\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp)\n    });\n  }\n\n  async fetchTickers(symbols = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {};\n\n    if (symbols !== undefined) {\n      const ids = this.marketIds(symbols);\n      request['symbols'] = ids.join(',');\n    }\n\n    const response = await this.marketGetTickerall(this.extend(request, params)); //\n    //     {    status:    200,\n    //             msg:   \"\",\n    //            data: {   ela_btc: {          symbol: \"ela_btc\",\n    //                                     quoteVolume: \"0.00\",\n    //                                          volume: \"3.28\",\n    //                                     priceChange: \"0.00\",\n    //                                  priceChange24h: \"0.00\",\n    //                                        askPrice: \"0.00147984\",\n    //                                          askQty: \"5.4580\",\n    //                                        bidPrice: \"0.00120230\",\n    //                                          bidQty: \"12.5384\",\n    //                                            open: \"0.00149078\",\n    //                                            high: \"0.00149078\",\n    //                                             low: \"0.00149078\",\n    //                                             now: \"0.00149078\",\n    //                                         firstId:  115581219,\n    //                                          lastId:  115581219,\n    //                                       dealCount:  1,\n    //                                 numberPrecision:  4,\n    //                                  pricePrecision:  8,\n    //                                             cny: \"73.66\",\n    //                                             usd: \"10.79\",\n    //                                             krw: \"11995.03\"    }     },\n    //            time:    1535971578,\n    //       microtime:   \"0.39854200 1535971578\",\n    //          source:   \"api\"                                                }\n    //\n\n    const tickers = this.safeValue(response, 'data');\n    const timestamp = this.parseMicrotime(this.safeString(response, 'microtime'));\n    const result = {};\n    const ids = Object.keys(tickers);\n\n    for (let i = 0; i < ids.length; i++) {\n      const id = ids[i];\n      let ticker = tickers[id];\n      let market = undefined;\n\n      if (id in this.markets_by_id) {\n        market = this.markets_by_id[id];\n      }\n\n      ticker = this.parseTicker(tickers[id], market);\n      let symbol = ticker['symbol'];\n\n      if (symbol === undefined) {\n        if (market !== undefined) {\n          symbol = market['symbol'];\n        } else {\n          const [baseId, quoteId] = id.split('_');\n          const base = this.safeCurrencyCode(baseId);\n          const quote = this.safeCurrencyCode(quoteId);\n          symbol = base + '/' + quote;\n        }\n      }\n\n      if (symbol !== undefined) {\n        result[symbol] = this.extend(ticker, {\n          'timestamp': timestamp,\n          'datetime': this.iso8601(timestamp)\n        });\n      }\n    }\n\n    return this.filterByArray(result, 'symbol', symbols);\n  }\n\n  async fetchTime(params = {}) {\n    const response = await this.marketGetGetServerTime(params); //\n    //     {\n    //         \"status\":200,\n    //         \"msg\":\"\",\n    //         \"data\":[],\n    //         \"time\":1555490875,\n    //         \"microtime\":\"0.35994200 1555490875\",\n    //         \"source\":\"api\"\n    //     }\n    //\n\n    return this.safeTimestamp(response, 'time');\n  }\n\n  async fetchOrderBook(symbol, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'symbol': this.marketId(symbol)\n    };\n    const response = await this.marketGetDepth(this.extend(request, params)); //\n    //     {    status:    200,\n    //             msg:   \"\",\n    //            data: {     asks: [ [\"10.00000000\", \"0.4426\", \"4.4260\"],\n    //                                [\"1.00000000\", \"0.8339\", \"0.8339\"],\n    //                                [\"0.91700000\", \"0.0500\", \"0.0458\"],\n    //                                [\"0.20000000\", \"0.1000\", \"0.0200\"],\n    //                                [\"0.03987120\", \"16.1262\", \"0.6429\"],\n    //                                [\"0.03986120\", \"9.7523\", \"0.3887\"]   ],\n    //                        bids: [ [\"0.03976145\", \"0.0359\", \"0.0014\"],\n    //                                [\"0.03973401\", \"20.9493\", \"0.8323\"],\n    //                                [\"0.03967970\", \"0.0328\", \"0.0013\"],\n    //                                [\"0.00000002\", \"10000.0000\", \"0.0002\"],\n    //                                [\"0.00000001\", \"231840.7500\", \"0.0023\"] ],\n    //                    coinPair:   \"eth_btc\"                                  },\n    //            time:    1535974778,\n    //       microtime:   \"0.04017400 1535974778\",\n    //          source:   \"api\"                                                     }\n    //\n\n    const orderbook = this.safeValue(response, 'data');\n    const timestamp = this.parseMicrotime(this.safeString(response, 'microtime'));\n    return this.parseOrderBook(orderbook, timestamp);\n  }\n\n  parseTrade(trade, market = undefined) {\n    //\n    // fetchTrades (public)\n    //\n    //    { id:  115807453,\n    //       t: \"19:36:24\",\n    //       T:  1535974584,\n    //       p: \"0.03983296\",\n    //       n: \"0.1000\",\n    //       s: \"buy\"         },\n    //\n    const id = this.safeString(trade, 'id');\n    const timestamp = this.safeTimestamp(trade, 'T');\n    let symbol = undefined;\n\n    if (market !== undefined) {\n      symbol = market['symbol'];\n    }\n\n    const price = this.safeFloat(trade, 'p');\n    const amount = this.safeFloat(trade, 'n');\n    let cost = undefined;\n\n    if (price !== undefined) {\n      if (amount !== undefined) {\n        cost = this.priceToPrecision(symbol, amount * price);\n      }\n    }\n\n    const side = this.safeString(trade, 's');\n    return {\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'symbol': symbol,\n      'id': id,\n      'order': undefined,\n      'type': 'limit',\n      'side': side,\n      'takerOrMaker': undefined,\n      'price': price,\n      'amount': amount,\n      'cost': cost,\n      'fee': undefined,\n      'info': trade\n    };\n  }\n\n  async fetchTrades(symbol, since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'symbol': market['id']\n    };\n    const response = await this.marketGetOrder(this.extend(request, params)); //\n    //     {    status:    200,\n    //             msg:   \"\",\n    //            data: [ { id:  115807453,\n    //                       t: \"19:36:24\",\n    //                       T:  1535974584,\n    //                       p: \"0.03983296\",\n    //                       n: \"0.1000\",\n    //                       s: \"buy\"         },\n    //                    { id:  115806811,\n    //                       t: \"19:33:19\",\n    //                       T:  1535974399,\n    //                       p: \"0.03981135\",\n    //                       n: \"9.4612\",\n    //                       s: \"sell\"        }  ],\n    //            time:    1535974583,\n    //       microtime:   \"0.57118100 1535974583\",\n    //          source:   \"api\"                     }\n    //\n\n    return this.parseTrades(response['data'], market, since, limit);\n  }\n\n  parseOHLCV(ohlcv, market = undefined) {\n    //\n    //     {\n    //         time: \"1535973420000\",\n    //         open: \"0.03975084\",\n    //         high: \"0.03975084\",\n    //         low: \"0.03967700\",\n    //         close: \"0.03967700\",\n    //         volume: \"12.4733\",\n    //         datetime: \"2018-09-03 19:17:00\"\n    //     }\n    //\n    return [this.safeInteger(ohlcv, 'time'), this.safeFloat(ohlcv, 'open'), this.safeFloat(ohlcv, 'high'), this.safeFloat(ohlcv, 'low'), this.safeFloat(ohlcv, 'close'), this.safeFloat(ohlcv, 'volume')];\n  }\n\n  async fetchOHLCV(symbol, timeframe = '1m', since = undefined, limit = undefined, params = {}) {\n    await this.loadMarkets();\n    const duration = this.parseTimeframe(timeframe) * 1000;\n    const market = this.market(symbol);\n    const request = {\n      'symbol': market['id'],\n      'resolution': this.timeframes[timeframe]\n    };\n\n    if (limit !== undefined) {\n      request['size'] = Math.min(limit, 300); // 1-300\n\n      if (since !== undefined) {\n        request['to'] = this.sum(since, limit * duration * 1000);\n      }\n    } else {\n      if (since !== undefined) {\n        throw new ArgumentsRequired(this.id + ' fetchOHLCV requires a limit argument if the since argument is specified');\n      }\n    }\n\n    const response = await this.marketGetKline(this.extend(request, params)); //\n    //     {\n    //         status: 200,\n    //         msg: \"\",\n    //         data: {\n    //             bars: [\n    //                 { time: \"1535973420000\", open: \"0.03975084\", high: \"0.03975084\", low: \"0.03967700\", close: \"0.03967700\", volume: \"12.4733\", datetime: \"2018-09-03 19:17:00\" },\n    //                 { time: \"1535955480000\", open: \"0.04009900\", high: \"0.04016745\", low: \"0.04009900\", close: \"0.04012074\", volume: \"74.4803\", datetime: \"2018-09-03 14:18:00\" },\n    //             ],\n    //             resolution: \"1min\",\n    //             symbol: \"eth_btc\",\n    //             from: \"1535973420000\",\n    //             to: \"1535955480000\",\n    //             size: 300\n    //         },\n    //         time: 1535973435,\n    //         microtime: \"0.56462100 1535973435\",\n    //         source: \"api\"\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', {});\n    const bars = this.safeValue(data, 'bars', []);\n    return this.parseOHLCVs(bars, market, timeframe, since, limit);\n  }\n\n  parseOrderStatus(status) {\n    const statuses = {\n      '0': 'open',\n      '1': 'open',\n      // partially filled\n      '2': 'closed',\n      // filled\n      '3': 'canceled'\n    };\n    return this.safeString(statuses, status, status);\n  }\n\n  parseOrder(order, market = undefined) {\n    //\n    // createOrder\n    //\n    //    {\n    //         \"id\": \"693248739\",   // order id\n    //         \"uId\": \"2074056\",    // uid\n    //         \"price\": \"100\",      // price\n    //         \"number\": \"10\",      // number\n    //         \"numberOver\": \"10\",  // undealed\n    //         \"flag\": \"sale\",      // flag\n    //         \"status\": \"0\",       // unfilled\n    //         \"coinFrom\": \"vtc\",\n    //         \"coinTo\": \"dkkt\",\n    //         \"numberDeal\": \"0\"    // dealed\n    //     }\n    //\n    const id = this.safeString(order, 'id');\n    let symbol = undefined;\n\n    if (market === undefined) {\n      const baseId = this.safeString(order, 'coinFrom');\n      const quoteId = this.safeString(order, 'coinTo');\n\n      if (baseId !== undefined && quoteId !== undefined) {\n        const marketId = baseId + '_' + quoteId;\n\n        if (marketId in this.markets_by_id) {\n          market = this.safeValue(this.markets_by_id, marketId);\n        } else {\n          const base = this.safeCurrencyCode(baseId);\n          const quote = this.safeCurrencyCode(quoteId);\n          symbol = base + '/' + quote;\n        }\n      }\n    }\n\n    if (market !== undefined) {\n      symbol = market['symbol'];\n    }\n\n    let side = this.safeString(order, 'flag');\n\n    if (side !== undefined) {\n      side = side === 'sale' ? 'sell' : 'buy';\n    }\n\n    const price = this.safeFloat(order, 'price');\n    const amount = this.safeFloat(order, 'number');\n    const remaining = this.safeFloat(order, 'numberOver');\n    const filled = this.safeFloat(order, 'numberDeal');\n    let timestamp = this.safeInteger(order, 'timestamp');\n\n    if (timestamp === undefined) {\n      timestamp = this.safeTimestamp(order, 'created');\n    }\n\n    let cost = this.safeFloat(order, 'orderTotalPrice');\n\n    if (price !== undefined) {\n      if (filled !== undefined) {\n        cost = filled * price;\n      }\n    }\n\n    const status = this.parseOrderStatus(this.safeString(order, 'status'));\n    return {\n      'id': id,\n      'clientOrderId': undefined,\n      'datetime': this.iso8601(timestamp),\n      'timestamp': timestamp,\n      'lastTradeTimestamp': undefined,\n      'status': status,\n      'symbol': symbol,\n      'type': 'limit',\n      'timeInForce': undefined,\n      'postOnly': undefined,\n      'side': side,\n      'price': price,\n      'stopPrice': undefined,\n      'cost': cost,\n      'amount': amount,\n      'filled': filled,\n      'remaining': remaining,\n      'trades': undefined,\n      'fee': undefined,\n      'info': order,\n      'average': undefined\n    };\n  }\n\n  async createOrder(symbol, type, side, amount, price = undefined, params = {}) {\n    await this.loadMarkets();\n\n    if (type !== 'limit') {\n      throw new ExchangeError(this.id + ' createOrder allows limit orders only');\n    }\n\n    const market = this.market(symbol);\n    const orderType = side === 'buy' ? '1' : '2';\n\n    if (!this.password) {\n      throw new ExchangeError(this.id + ' createOrder() requires you to set exchange.password = \"YOUR_TRADING_PASSWORD\" (a trade password is NOT THE SAME as your login password)');\n    }\n\n    const request = {\n      'symbol': market['id'],\n      'type': orderType,\n      'price': this.priceToPrecision(symbol, price),\n      'number': this.amountToPrecision(symbol, amount),\n      'tradePwd': this.password\n    };\n    const response = await this.tradePostAddEntrustSheet(this.extend(request, params)); //\n    //     {\n    //         \"status\": 200,\n    //         \"msg\": \"\",\n    //         \"data\": {\n    //             \"id\": \"693248739\",   // order id\n    //             \"uId\": \"2074056\",    // uid\n    //             \"price\": \"100\",      // price\n    //             \"number\": \"10\",      // number\n    //             \"numberOver\": \"10\",  // undealed\n    //             \"flag\": \"sale\",      // flag\n    //             \"status\": \"0\",       // unfilled\n    //             \"coinFrom\": \"vtc\",\n    //             \"coinTo\": \"dkkt\",\n    //             \"numberDeal\": \"0\"    // dealed\n    //         },\n    //         \"time\": \"1533035297\",\n    //         \"microtime\": \"0.41892000 1533035297\",\n    //         \"source\": \"api\",\n    //     }\n    //\n\n    const timestamp = this.parseMicrotime(this.safeString(response, 'microtime'));\n    const order = this.extend({\n      'timestamp': timestamp\n    }, response['data']);\n    return this.parseOrder(order, market);\n  }\n\n  async cancelOrder(id, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'entrustSheetId': id\n    };\n    const response = await this.tradePostCancelEntrustSheet(this.extend(request, params)); //\n    //     {\n    //         \"status\":200,\n    //         \"msg\":\"\",\n    //         \"data\":{\n    //             \"updateAssetsData\":{\n    //                 \"coin\":\"bz\",\n    //                 \"over\":\"1000.00000000\",\n    //                 \"lock\":\"-1000.00000000\"\n    //             },\n    //             \"assetsInfo\":{\n    //                 \"coin\":\"bz\",\n    //                 \"over\":\"9999.99999999\",\n    //                 \"lock\":\"9999.99999999\"\n    //             }\n    //         },\n    //         \"time\":\"1535464383\",\n    //         \"microtime\":\"0.91558000 1535464383\",\n    //         \"source\":\"api\"\n    //     }\n    //\n\n    return response;\n  }\n\n  async cancelOrders(ids, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'ids': ids.join(',')\n    };\n    const response = await this.tradePostCancelEntrustSheet(this.extend(request, params)); //\n    //     {\n    //         \"status\":200,\n    //         \"msg\":\"\",\n    //         \"data\":{\n    //             \"744173808\":{\n    //                 \"updateAssetsData\":{\n    //                     \"coin\":\"bz\",\n    //                     \"over\":\"100.00000000\",\n    //                     \"lock\":\"-100.00000000\"\n    //                 },\n    //                 \"assetsInfo\":{\n    //                     \"coin\":\"bz\",\n    //                     \"over\":\"899.99999999\",\n    //                     \"lock\":\"19099.99999999\"\n    //                 }\n    //             },\n    //             \"744173809\":{\n    //                 \"updateAssetsData\":{\n    //                     \"coin\":\"bz\",\n    //                     \"over\":\"100.00000000\",\n    //                     \"lock\":\"-100.00000000\"\n    //                 },\n    //                 \"assetsInfo\":{\n    //                     \"coin\":\"bz\",\n    //                     \"over\":\"999.99999999\",\n    //                     \"lock\":\"18999.99999999\"\n    //                 }\n    //             }\n    //         },\n    //         \"time\":\"1535525649\",\n    //         \"microtime\":\"0.05009400 1535525649\",\n    //         \"source\":\"api\"\n    //     }\n    //\n\n    return response;\n  }\n\n  async fetchOrder(id, symbol = undefined, params = {}) {\n    await this.loadMarkets();\n    const request = {\n      'entrustSheetId': id\n    };\n    const response = await this.tradePostGetEntrustSheetInfo(this.extend(request, params)); //\n    //     {\n    //         \"status\":200,\n    //         \"msg\":\"\",\n    //         \"data\":{\n    //             \"id\":\"708279852\",\n    //             \"uId\":\"2074056\",\n    //             \"price\":\"100.00000000\",\n    //             \"number\":\"10.0000\",\n    //             \"total\":\"0.00000000\",\n    //             \"numberOver\":\"10.0000\",\n    //             \"numberDeal\":\"0.0000\",\n    //             \"flag\":\"sale\",\n    //             \"status\":\"0\",  //0:unfilled, 1:partial deal, 2:all transactions, 3:already cancelled\n    //             \"coinFrom\":\"bz\",\n    //             \"coinTo\":\"usdt\",\n    //             \"orderTotalPrice\":\"0\",\n    //             \"created\":\"1533279876\"\n    //         },\n    //         \"time\":\"1533280294\",\n    //         \"microtime\":\"0.36859200 1533280294\",\n    //         \"source\":\"api\"\n    //     }\n    //\n\n    return this.parseOrder(response['data']);\n  }\n\n  async fetchOrdersWithMethod(method, symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    if (symbol === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchOpenOrders requires a symbol argument');\n    }\n\n    await this.loadMarkets();\n    const market = this.market(symbol);\n    const request = {\n      'coinFrom': market['baseId'],\n      'coinTo': market['quoteId'] // 'type': 1, // optional integer, 1 = buy, 2 = sell\n      // 'page': 1, // optional integer\n      // 'pageSize': 100, // optional integer, max 100\n      // 'startTime': 1510235730, // optional integer timestamp in seconds\n      // 'endTime': 1510235730, // optional integer timestamp in seconds\n\n    };\n\n    if (limit !== undefined) {\n      request['page'] = 1;\n      request['pageSize'] = limit;\n    }\n\n    if (since !== undefined) {\n      request['startTime'] = parseInt(since / 1000); // request['endTime'] = parseInt (since / 1000);\n    }\n\n    const response = await this[method](this.extend(request, params)); //\n    //     {\n    //         \"status\": 200,\n    //         \"msg\": \"\",\n    //         \"data\": {\n    //             \"data\": [\n    //                 {\n    //                     \"id\": \"693248739\",\n    //                     \"uid\": \"2074056\",\n    //                     \"price\": \"100.00000000\",\n    //                     \"number\": \"10.0000\",\n    //                     \"total\": \"0.00000000\",\n    //                     \"numberOver\": \"0.0000\",\n    //                     \"numberDeal\": \"0.0000\",\n    //                     \"flag\": \"sale\",\n    //                     \"status\": \"3\", // 0:unfilled, 1:partial deal, 2:all transactions, 3:already cancelled\n    //                     \"isNew\": \"N\",\n    //                     \"coinFrom\": \"vtc\",\n    //                     \"coinTo\": \"dkkt\",\n    //                     \"created\": \"1533035300\",\n    //                 },\n    //                 {\n    //                     \"id\": \"723086996\",\n    //                     \"uid\": \"2074056\",\n    //                     \"price\": \"100.00000000\",\n    //                     \"number\": \"10.0000\",\n    //                     \"total\": \"0.00000000\",\n    //                     \"numberOver\": \"0.0000\",\n    //                     \"numberDeal\": \"0.0000\",\n    //                     \"flag\": \"sale\",\n    //                     \"status\": \"3\",\n    //                     \"isNew\": \"N\",\n    //                     \"coinFrom\": \"bz\",\n    //                     \"coinTo\": \"usdt\",\n    //                     \"created\": \"1533523568\",\n    //                 },\n    //             ],\n    //             \"pageInfo\": {\n    //                 \"limit\": \"10\",\n    //                 \"offest\": \"0\",\n    //                 \"current_page\": \"1\",\n    //                 \"page_size\": \"10\",\n    //                 \"total_count\": \"17\",\n    //                 \"page_count\": \"2\",\n    //             }\n    //         },\n    //         \"time\": \"1533279329\",\n    //         \"microtime\": \"0.15305300 1533279329\",\n    //         \"source\": \"api\"\n    //     }\n    //\n\n    const orders = this.safeValue(response['data'], 'data', []);\n    return this.parseOrders(orders, undefined, since, limit);\n  }\n\n  async fetchOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    return await this.fetchOrdersWithMethod('tradePostGetUserHistoryEntrustSheet', symbol, since, limit, params);\n  }\n\n  async fetchOpenOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    return await this.fetchOrdersWithMethod('tradePostGetUserNowEntrustSheet', symbol, since, limit, params);\n  }\n\n  async fetchClosedOrders(symbol = undefined, since = undefined, limit = undefined, params = {}) {\n    return await this.fetchOrdersWithMethod('tradePostGetUserHistoryEntrustSheet', symbol, since, limit, params);\n  }\n\n  parseTransactionStatus(status) {\n    const statuses = {\n      '1': 'pending',\n      '2': 'pending',\n      '3': 'pending',\n      '4': 'ok',\n      '5': 'canceled'\n    };\n    return this.safeString(statuses, status, status);\n  }\n\n  parseTransaction(transaction, currency = undefined) {\n    //\n    //     {\n    //         \"id\": '96275',\n    //         \"uid\": '2109073',\n    //         \"wallet\": '0xf4c4141c0127bc37b1d0c409a091920eba13ada7',\n    //         \"txid\": '0xb7adfa52aa566f9ac112e3c01f77bd91179b19eab12092a9a5a8b33d5086e31d',\n    //         \"confirm\": '12',\n    //         \"number\": '0.50000000',\n    //         \"status\": 4,\n    //         \"updated\": '1534944168605',\n    //         \"addressUrl\": 'https://etherscan.io/address/',\n    //         \"txidUrl\": 'https://etherscan.io/tx/',\n    //         \"description\": 'Ethereum',\n    //         \"coin\": 'eth',\n    //         \"memo\": ''\n    //     }\n    //\n    //     {\n    //         \"id\":\"397574\",\n    //         \"uid\":\"2033056\",\n    //         \"wallet\":\"1AG1gZvQAYu3WBvgg7p4BMMghQD2gE693k\",\n    //         \"txid\":\"\",\n    //         \"confirm\":\"0\",\n    //         \"number\":\"1000.00000000\",\n    //         \"status\":1,\n    //         \"updated\":\"0\",\n    //         \"addressUrl\":\"http://omniexplorer.info/lookupadd.aspx?address=\",\n    //         \"txidUrl\":\"http://omniexplorer.info/lookuptx.aspx?txid=\",\n    //         \"description\":\"Tether\",\n    //         \"coin\":\"usdt\",\n    //         \"memo\":\"\"\n    //     }\n    //\n    //     {\n    //         \"id\":\"153606\",\n    //         \"uid\":\"2033056\",\n    //         \"wallet\":\"1AG1gZvQAYu3WBvgg7p4BMMghQD2gE693k\",\n    //         \"txid\":\"aa2b179f84cd6dedafd41845e0fbf7f01e14c0d71ea3140d03d6f5a9ccd93199\",\n    //         \"confirm\":\"0\",\n    //         \"number\":\"761.11110000\",\n    //         \"status\":4,\n    //         \"updated\":\"1536726133579\",\n    //         \"addressUrl\":\"http://omniexplorer.info/lookupadd.aspx?address=\",\n    //         \"txidUrl\":\"http://omniexplorer.info/lookuptx.aspx?txid=\",\n    //         \"description\":\"Tether\",\n    //         \"coin\":\"usdt\",\n    //         \"memo\":\"\"\n    //     }\n    //\n    // withdraw\n    //\n    //     {\n    //         \"id\":397574,\n    //         \"email\":\"***@email.com\",\n    //         \"coin\":\"usdt\",\n    //         \"network_fee\":\"\",\n    //         \"eid\":23112\n    //     }\n    //\n    let timestamp = this.safeInteger(transaction, 'updated');\n\n    if (timestamp === 0) {\n      timestamp = undefined;\n    }\n\n    const currencyId = this.safeString(transaction, 'coin');\n    const code = this.safeCurrencyCode(currencyId, currency);\n    const type = this.safeStringLower(transaction, 'type');\n    const status = this.parseTransactionStatus(this.safeString(transaction, 'status'));\n    let fee = undefined;\n    const feeCost = this.safeFloat(transaction, 'network_fee');\n\n    if (feeCost !== undefined) {\n      fee = {\n        'cost': feeCost,\n        'code': code\n      };\n    }\n\n    return {\n      'id': this.safeString(transaction, 'id'),\n      'txid': this.safeString(transaction, 'txid'),\n      'timestamp': timestamp,\n      'datetime': this.iso8601(timestamp),\n      'address': this.safeString(transaction, 'wallet'),\n      'tag': this.safeString(transaction, 'memo'),\n      'type': type,\n      'amount': this.safeFloat(transaction, 'number'),\n      'currency': code,\n      'status': status,\n      'updated': timestamp,\n      'fee': fee,\n      'info': transaction\n    };\n  }\n\n  parseTransactionsByType(type, transactions, code = undefined, since = undefined, limit = undefined) {\n    const result = [];\n\n    for (let i = 0; i < transactions.length; i++) {\n      const transaction = this.parseTransaction(this.extend({\n        'type': type\n      }, transactions[i]));\n      result.push(transaction);\n    }\n\n    return this.filterByCurrencySinceLimit(result, code, since, limit);\n  }\n\n  parseTransactionType(type) {\n    const types = {\n      'deposit': 1,\n      'withdrawal': 2\n    };\n    return this.safeInteger(types, type, type);\n  }\n\n  async fetchDeposits(code = undefined, since = undefined, limit = undefined, params = {}) {\n    return await this.fetchTransactionsForType('deposit', code, since, limit, params);\n  }\n\n  async fetchWithdrawals(code = undefined, since = undefined, limit = undefined, params = {}) {\n    return await this.fetchTransactionsForType('withdrawal', code, since, limit, params);\n  }\n\n  async fetchTransactionsForType(type, code = undefined, since = undefined, limit = undefined, params = {}) {\n    if (code === undefined) {\n      throw new ArgumentsRequired(this.id + ' fetchTransactions() requires a currency `code` argument');\n    }\n\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'coin': currency['id'],\n      'type': this.parseTransactionType(type)\n    };\n\n    if (since !== undefined) {\n      request['startTime'] = parseInt(since / 1000).toString();\n    }\n\n    if (limit !== undefined) {\n      request['page'] = 1;\n      request['pageSize'] = limit;\n    }\n\n    const response = await this.tradePostDepositOrWithdraw(this.extend(request, params));\n    const transactions = this.safeValue(response['data'], 'data', []);\n    return this.parseTransactionsByType(type, transactions, code, since, limit);\n  }\n\n  async withdraw(code, amount, address, tag = undefined, params = {}) {\n    this.checkAddress(address);\n    await this.loadMarkets();\n    const currency = this.currency(code);\n    const request = {\n      'coin': currency['id'],\n      'number': this.currencyToPrecision(code, amount),\n      'address': address // 'type': 'erc20', // omni, trc20, optional\n\n    };\n\n    if (tag !== undefined) {\n      request['memo'] = tag;\n    }\n\n    const response = await this.tradePostCoinOut(this.extend(request, params)); //\n    //     {\n    //         \"status\":200,\n    //         \"msg\":\"\",\n    //         \"data\":{\n    //             \"id\":397574,\n    //             \"email\":\"***@email.com\",\n    //             \"coin\":\"usdt\",\n    //             \"network_fee\":\"\",\n    //             \"eid\":23112\n    //         },\n    //         \"time\":1552641646,\n    //         \"microtime\":\"0.70304500 1552641646\",\n    //         \"source\":\"api\"\n    //     }\n    //\n\n    const data = this.safeValue(response, 'data', {});\n    return this.parseTransaction(data, currency);\n  }\n\n  nonce() {\n    const currentTimestamp = this.seconds();\n\n    if (currentTimestamp > this.options['lastNonceTimestamp']) {\n      this.options['lastNonceTimestamp'] = currentTimestamp;\n      this.options['lastNonce'] = 100000;\n    }\n\n    this.options['lastNonce'] = this.sum(this.options['lastNonce'], 1);\n    return this.options['lastNonce'];\n  }\n\n  sign(path, api = 'market', method = 'GET', params = {}, headers = undefined, body = undefined) {\n    const baseUrl = this.implodeParams(this.urls['api'][api], {\n      'hostname': this.hostname\n    });\n    let url = baseUrl + '/' + this.capitalize(api) + '/' + path;\n    let query = undefined;\n\n    if (api === 'market') {\n      query = this.urlencode(params);\n\n      if (query.length) {\n        url += '?' + query;\n      }\n    } else {\n      this.checkRequiredCredentials();\n      body = this.rawencode(this.keysort(this.extend({\n        'apiKey': this.apiKey,\n        'timeStamp': this.seconds(),\n        'nonce': this.nonce()\n      }, params)));\n      body += '&sign=' + this.hash(this.encode(body + this.secret));\n      headers = {\n        'Content-type': 'application/x-www-form-urlencoded'\n      };\n    }\n\n    return {\n      'url': url,\n      'method': method,\n      'body': body,\n      'headers': headers\n    };\n  }\n\n  handleErrors(httpCode, reason, url, method, headers, body, response, requestHeaders, requestBody) {\n    if (response === undefined) {\n      return; // fallback to default error handler\n    }\n\n    const status = this.safeString(response, 'status');\n\n    if (status !== undefined) {\n      const feedback = this.id + ' ' + body; //\n      //     {\"status\":-107,\"msg\":\"\",\"data\":\"\",\"time\":1535968848,\"microtime\":\"0.89092200 1535968848\",\"source\":\"api\"}\n      //\n\n      if (status === '200') {\n        //\n        //     {\"status\":200,\"msg\":\"\",\"data\":-200031,\"time\":1535999806,\"microtime\":\"0.85476800 1535999806\",\"source\":\"api\"}\n        //\n        const code = this.safeInteger(response, 'data');\n\n        if (code !== undefined) {\n          this.throwExactlyMatchedException(this.exceptions, code, feedback);\n          throw new ExchangeError(feedback);\n        } else {\n          return; // no error\n        }\n      }\n\n      this.throwExactlyMatchedException(this.exceptions, status, feedback);\n      throw new ExchangeError(feedback);\n    }\n  }\n\n};","map":{"version":3,"sources":["C:/Users/senya/Documents/Coding/React Projects/react-stock-ticker/node_modules/ccxt/js/bitz.js"],"names":["Exchange","require","ExchangeError","ArgumentsRequired","ExchangeNotAvailable","PermissionDenied","InvalidOrder","AuthenticationError","InsufficientFunds","OrderNotFound","DDoSProtection","OnMaintenance","RateLimitExceeded","module","exports","bitz","describe","deepExtend","userAgents","fetchMarkets","params","response","marketGetSymbolList","markets","safeValue","ids","Object","keys","result","i","length","id","market","numericId","safeString","baseId","quoteId","base","toUpperCase","quote","safeCurrencyCode","symbol","precision","safeInteger","push","safeFloat","Math","pow","undefined","fetchBalance","loadMarkets","assetsPostGetUserAssets","balances","balance","currencyId","code","account","parseBalance","parseTicker","ticker","timestamp","marketId","safeSymbol","last","open","change","average","sum","iso8601","parseMicrotime","microtime","parts","split","milliseconds","parseFloat","seconds","parseInt","total","fetchTicker","request","marketGetTicker","extend","fetchTickers","symbols","marketIds","join","marketGetTickerall","tickers","markets_by_id","filterByArray","fetchTime","marketGetGetServerTime","safeTimestamp","fetchOrderBook","limit","marketGetDepth","orderbook","parseOrderBook","parseTrade","trade","price","amount","cost","priceToPrecision","side","fetchTrades","since","marketGetOrder","parseTrades","parseOHLCV","ohlcv","fetchOHLCV","timeframe","duration","parseTimeframe","timeframes","min","marketGetKline","data","bars","parseOHLCVs","parseOrderStatus","status","statuses","parseOrder","order","remaining","filled","createOrder","type","orderType","password","amountToPrecision","tradePostAddEntrustSheet","cancelOrder","tradePostCancelEntrustSheet","cancelOrders","fetchOrder","tradePostGetEntrustSheetInfo","fetchOrdersWithMethod","method","orders","parseOrders","fetchOrders","fetchOpenOrders","fetchClosedOrders","parseTransactionStatus","parseTransaction","transaction","currency","safeStringLower","fee","feeCost","parseTransactionsByType","transactions","filterByCurrencySinceLimit","parseTransactionType","types","fetchDeposits","fetchTransactionsForType","fetchWithdrawals","toString","tradePostDepositOrWithdraw","withdraw","address","tag","checkAddress","currencyToPrecision","tradePostCoinOut","nonce","currentTimestamp","options","sign","path","api","headers","body","baseUrl","implodeParams","urls","hostname","url","capitalize","query","urlencode","checkRequiredCredentials","rawencode","keysort","apiKey","hash","encode","secret","handleErrors","httpCode","reason","requestHeaders","requestBody","feedback","throwExactlyMatchedException","exceptions"],"mappings":"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","sourcesContent":["'use strict';\n\n//  ---------------------------------------------------------------------------\n\nconst Exchange = require ('./base/Exchange');\nconst { ExchangeError, ArgumentsRequired, ExchangeNotAvailable, PermissionDenied, InvalidOrder, AuthenticationError, InsufficientFunds, OrderNotFound, DDoSProtection, OnMaintenance, RateLimitExceeded } = require ('./base/errors');\n\n//  ---------------------------------------------------------------------------\n\nmodule.exports = class bitz extends Exchange {\n    describe () {\n        return this.deepExtend (super.describe (), {\n            'id': 'bitz',\n            'name': 'Bit-Z',\n            'countries': [ 'HK' ],\n            'rateLimit': 2000,\n            'version': 'v2',\n            'userAgent': this.userAgents['chrome'],\n            'has': {\n                'cancelOrder': true,\n                'cancelOrders': true,\n                'createOrder': true,\n                'createMarketOrder': false,\n                'fetchBalance': true,\n                'fetchDeposits': true,\n                'fetchClosedOrders': true,\n                'fetchMarkets': true,\n                'fetchOHLCV': true,\n                'fetchOpenOrders': true,\n                'fetchOrder': true,\n                'fetchOrderBook': true,\n                'fetchOrders': true,\n                'fetchTicker': true,\n                'fetchTickers': true,\n                'fetchTime': true,\n                'fetchTrades': true,\n                'fetchTransactions': false,\n                'fetchWithdrawals': true,\n                'withdraw': true,\n            },\n            'timeframes': {\n                '1m': '1min',\n                '5m': '5min',\n                '15m': '15min',\n                '30m': '30min',\n                '1h': '60min',\n                '4h': '4hour',\n                '1d': '1day',\n                '5d': '5day',\n                '1w': '1week',\n                '1M': '1mon',\n            },\n            'hostname': 'apiv2.bitz.com',\n            'urls': {\n                'logo': 'https://user-images.githubusercontent.com/51840849/87443304-fec5e000-c5fd-11ea-98f8-ba8e67f7eaff.jpg',\n                'api': {\n                    'market': 'https://{hostname}',\n                    'trade': 'https://{hostname}',\n                    'assets': 'https://{hostname}',\n                },\n                'www': 'https://www.bitz.com',\n                'doc': 'https://apidoc.bitz.com/en/',\n                'fees': 'https://www.bitz.com/fee?type=1',\n                'referral': 'https://u.bitz.com/register?invite_code=1429193',\n            },\n            'api': {\n                'market': {\n                    'get': [\n                        'ticker',\n                        'depth',\n                        'order', // trades\n                        'tickerall',\n                        'kline',\n                        'symbolList',\n                        'getServerTime',\n                        'currencyRate',\n                        'currencyCoinRate',\n                        'coinRate',\n                    ],\n                },\n                'trade': {\n                    'post': [\n                        'addEntrustSheet',\n                        'cancelEntrustSheet',\n                        'cancelAllEntrustSheet',\n                        'coinOut', // withdraw\n                        'getUserHistoryEntrustSheet', // closed orders\n                        'getUserNowEntrustSheet', // open orders\n                        'getEntrustSheetInfo', // order\n                        'depositOrWithdraw', // transactions\n                    ],\n                },\n                'assets': {\n                    'post': [\n                        'getUserAssets',\n                    ],\n                },\n            },\n            'fees': {\n                'trading': {\n                    'maker': 0.002,\n                    'taker': 0.002,\n                },\n                'funding': {\n                    'withdraw': {\n                        'BTC': '0.5%',\n                        'DKKT': '0.5%',\n                        'ETH': 0.01,\n                        'USDT': '0.5%',\n                        'LTC': '0.5%',\n                        'FCT': '0.5%',\n                        'LSK': '0.5%',\n                        'HXI': '0.8%',\n                        'ZEC': '0.5%',\n                        'DOGE': '0.5%',\n                        'MZC': '0.5%',\n                        'ETC': '0.5%',\n                        'GXS': '0.5%',\n                        'XPM': '0.5%',\n                        'PPC': '0.5%',\n                        'BLK': '0.5%',\n                        'XAS': '0.5%',\n                        'HSR': '0.5%',\n                        'NULS': 5.0,\n                        'VOISE': 350.0,\n                        'PAY': 1.5,\n                        'EOS': 0.6,\n                        'YBCT': 35.0,\n                        'OMG': 0.3,\n                        'OTN': 0.4,\n                        'BTX': '0.5%',\n                        'QTUM': '0.5%',\n                        'DASH': '0.5%',\n                        'GAME': '0.5%',\n                        'BCH': '0.5%',\n                        'GNT': 9.0,\n                        'SSS': 1500.0,\n                        'ARK': '0.5%',\n                        'PART': '0.5%',\n                        'LEO': '0.5%',\n                        'DGB': '0.5%',\n                        'ZSC': 130.0,\n                        'VIU': 350.0,\n                        'BTG': '0.5%',\n                        'ARN': 10.0,\n                        'VTC': '0.5%',\n                        'BCD': '0.5%',\n                        'TRX': 200.0,\n                        'HWC': '0.5%',\n                        'UNIT': '0.5%',\n                        'OXY': '0.5%',\n                        'MCO': 0.3500,\n                        'SBTC': '0.5%',\n                        'BCX': '0.5%',\n                        'ETF': '0.5%',\n                        'PYLNT': 0.4000,\n                        'XRB': '0.5%',\n                        'ETP': '0.5%',\n                    },\n                },\n            },\n            'precision': {\n                'amount': 8,\n                'price': 8,\n            },\n            'options': {\n                'fetchOHLCVVolume': true,\n                'fetchOHLCVWarning': true,\n                'lastNonceTimestamp': 0,\n            },\n            'commonCurrencies': {\n                // https://github.com/ccxt/ccxt/issues/3881\n                // https://support.bit-z.pro/hc/en-us/articles/360007500654-BOX-BOX-Token-\n                'BOX': 'BOX Token',\n                'LEO': 'LeoCoin',\n                'XRB': 'NANO',\n                'PXC': 'Pixiecoin',\n                'VTC': 'VoteCoin',\n                'TTC': 'TimesChain',\n            },\n            'exceptions': {\n                // '200': Success\n                '-102': ExchangeError, // Invalid parameter\n                '-103': AuthenticationError, // Verification failed\n                '-104': ExchangeNotAvailable, // Network Error-1\n                '-105': AuthenticationError, // Invalid api signature\n                '-106': ExchangeNotAvailable, // Network Error-2\n                '-109': AuthenticationError, // Invalid scretKey\n                '-110': DDoSProtection, // The number of access requests exceeded\n                '-111': PermissionDenied, // Current IP is not in the range of trusted IP\n                '-112': OnMaintenance, // Service is under maintenance\n                '-114': RateLimitExceeded, // The number of daily requests has reached the limit\n                '-117': AuthenticationError, // The apikey expires\n                '-100015': AuthenticationError, // Trade password error\n                '-100044': ExchangeError, // Fail to request data\n                '-100101': ExchangeError, // Invalid symbol\n                '-100201': ExchangeError, // Invalid symbol\n                '-100301': ExchangeError, // Invalid symbol\n                '-100401': ExchangeError, // Invalid symbol\n                '-100302': ExchangeError, // Type of K-line error\n                '-100303': ExchangeError, // Size of K-line error\n                '-200003': AuthenticationError, // Please set trade password\n                '-200005': PermissionDenied, // This account can not trade\n                '-200025': ExchangeNotAvailable, // Temporary trading halt\n                '-200027': InvalidOrder, // Price Error\n                '-200028': InvalidOrder, // Amount must be greater than 0\n                '-200029': InvalidOrder, // Number must be between %s and %d\n                '-200030': InvalidOrder, // Over price range\n                '-200031': InsufficientFunds, // Insufficient assets\n                '-200032': ExchangeError, // System error. Please contact customer service\n                '-200033': ExchangeError, // Fail to trade\n                '-200034': OrderNotFound, // The order does not exist\n                '-200035': OrderNotFound, // Cancellation error, order filled\n                '-200037': InvalidOrder, // Trade direction error\n                '-200038': ExchangeError, // Trading Market Error\n                '-200055': OrderNotFound, // Order record does not exist\n                '-300069': AuthenticationError, // api_key is illegal\n                '-300101': ExchangeError, // Transaction type error\n                '-300102': InvalidOrder, // Price or number cannot be less than 0\n                '-300103': AuthenticationError, // Trade password error\n                '-301001': ExchangeNotAvailable, // Network Error-3\n            },\n        });\n    }\n\n    async fetchMarkets (params = {}) {\n        const response = await this.marketGetSymbolList (params);\n        //\n        //     {    status:    200,\n        //             msg:   \"\",\n        //            data: {   ltc_btc: {          id: \"1\",\n        //                                        name: \"ltc_btc\",\n        //                                    coinFrom: \"ltc\",\n        //                                      coinTo: \"btc\",\n        //                                 numberFloat: \"4\",\n        //                                  priceFloat: \"8\",\n        //                                      status: \"1\",\n        //                                    minTrade: \"0.010\",\n        //                                    maxTrade: \"500000000.000\" },\n        //                    qtum_usdt: {          id: \"196\",\n        //                                        name: \"qtum_usdt\",\n        //                                    coinFrom: \"qtum\",\n        //                                      coinTo: \"usdt\",\n        //                                 numberFloat: \"4\",\n        //                                  priceFloat: \"2\",\n        //                                      status: \"1\",\n        //                                    minTrade: \"0.100\",\n        //                                    maxTrade: \"500000000.000\" },  },\n        //            time:    1535969146,\n        //       microtime:   \"0.66955600 1535969146\",\n        //          source:   \"api\"                                           }\n        //\n        const markets = this.safeValue (response, 'data');\n        const ids = Object.keys (markets);\n        const result = [];\n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            const market = markets[id];\n            const numericId = this.safeString (market, 'id');\n            const baseId = this.safeString (market, 'coinFrom');\n            const quoteId = this.safeString (market, 'coinTo');\n            let base = baseId.toUpperCase ();\n            let quote = quoteId.toUpperCase ();\n            base = this.safeCurrencyCode (base);\n            quote = this.safeCurrencyCode (quote);\n            const symbol = base + '/' + quote;\n            const precision = {\n                'amount': this.safeInteger (market, 'numberFloat'),\n                'price': this.safeInteger (market, 'priceFloat'),\n            };\n            result.push ({\n                'info': market,\n                'id': id,\n                'numericId': numericId,\n                'symbol': symbol,\n                'base': base,\n                'quote': quote,\n                'baseId': baseId,\n                'quoteId': quoteId,\n                'active': true,\n                'precision': precision,\n                'limits': {\n                    'amount': {\n                        'min': this.safeFloat (market, 'minTrade'),\n                        'max': this.safeFloat (market, 'maxTrade'),\n                    },\n                    'price': {\n                        'min': Math.pow (10, -precision['price']),\n                        'max': undefined,\n                    },\n                    'cost': {\n                        'min': undefined,\n                        'max': undefined,\n                    },\n                },\n            });\n        }\n        return result;\n    }\n\n    async fetchBalance (params = {}) {\n        await this.loadMarkets ();\n        const response = await this.assetsPostGetUserAssets (params);\n        //\n        //     {\n        //         status: 200,\n        //         msg: \"\",\n        //         data: {\n        //             cny: 0,\n        //             usd: 0,\n        //             btc_total: 0,\n        //             info: [{\n        //                 \"name\": \"zpr\",\n        //                 \"num\": \"37.49067275\",\n        //                 \"over\": \"37.49067275\",\n        //                 \"lock\": \"0.00000000\",\n        //                 \"btc\": \"0.00000000\",\n        //                 \"usd\": \"0.00000000\",\n        //                 \"cny\": \"0.00000000\",\n        //             }],\n        //         },\n        //         time: 1535983966,\n        //         microtime: \"0.70400500 1535983966\",\n        //         source: \"api\",\n        //     }\n        //\n        const balances = this.safeValue (response['data'], 'info');\n        const result = { 'info': response };\n        for (let i = 0; i < balances.length; i++) {\n            const balance = balances[i];\n            const currencyId = this.safeString (balance, 'name');\n            const code = this.safeCurrencyCode (currencyId);\n            const account = this.account ();\n            account['used'] = this.safeFloat (balance, 'lock');\n            account['total'] = this.safeFloat (balance, 'num');\n            account['free'] = this.safeFloat (balance, 'over');\n            result[code] = account;\n        }\n        return this.parseBalance (result);\n    }\n\n    parseTicker (ticker, market = undefined) {\n        //\n        //      {          symbol: \"eth_btc\",\n        //            quoteVolume: \"3905.72\",\n        //                 volume: \"97058.21\",\n        //            priceChange: \"-1.72\",\n        //         priceChange24h: \"-1.65\",\n        //               askPrice: \"0.03971272\",\n        //                 askQty: \"0.0663\",\n        //               bidPrice: \"0.03961469\",\n        //                 bidQty: \"19.5451\",\n        //                   open: \"0.04036769\",\n        //                   high: \"0.04062988\",\n        //                    low: \"0.03956123\",\n        //                    now: \"0.03970100\",\n        //                firstId:  115567767,\n        //                 lastId:  115795316,\n        //              dealCount:  14078,\n        //        numberPrecision:  4,\n        //         pricePrecision:  8,\n        //                    cny: \"1959.05\",\n        //                    usd: \"287.10\",\n        //                    krw: \"318655.82\"   }\n        //\n        const timestamp = undefined;\n        const marketId = this.safeString (ticker, 'symbol');\n        const symbol = this.safeSymbol (marketId, market, '_');\n        const last = this.safeFloat (ticker, 'now');\n        const open = this.safeFloat (ticker, 'open');\n        let change = undefined;\n        let average = undefined;\n        if (last !== undefined && open !== undefined) {\n            change = last - open;\n            average = this.sum (last, open) / 2;\n        }\n        return {\n            'symbol': symbol,\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'high': this.safeFloat (ticker, 'high'),\n            'low': this.safeFloat (ticker, 'low'),\n            'bid': this.safeFloat (ticker, 'bidPrice'),\n            'bidVolume': this.safeFloat (ticker, 'bidQty'),\n            'ask': this.safeFloat (ticker, 'askPrice'),\n            'askVolume': this.safeFloat (ticker, 'askQty'),\n            'vwap': undefined,\n            'open': open,\n            'close': last,\n            'last': last,\n            'previousClose': undefined,\n            'change': change,\n            'percentage': this.safeFloat (ticker, 'priceChange24h'),\n            'average': average,\n            'baseVolume': this.safeFloat (ticker, 'volume'),\n            'quoteVolume': this.safeFloat (ticker, 'quoteVolume'),\n            'info': ticker,\n        };\n    }\n\n    parseMicrotime (microtime) {\n        if (microtime === undefined) {\n            return microtime;\n        }\n        const parts = microtime.split (' ');\n        const milliseconds = parseFloat (parts[0]);\n        const seconds = parseInt (parts[1]);\n        const total = this.sum (seconds, milliseconds);\n        return parseInt (total * 1000);\n    }\n\n    async fetchTicker (symbol, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'symbol': market['id'],\n        };\n        const response = await this.marketGetTicker (this.extend (request, params));\n        //\n        //     {    status:    200,\n        //             msg:   \"\",\n        //            data: {          symbol: \"eth_btc\",\n        //                        quoteVolume: \"3905.72\",\n        //                             volume: \"97058.21\",\n        //                        priceChange: \"-1.72\",\n        //                     priceChange24h: \"-1.65\",\n        //                           askPrice: \"0.03971272\",\n        //                             askQty: \"0.0663\",\n        //                           bidPrice: \"0.03961469\",\n        //                             bidQty: \"19.5451\",\n        //                               open: \"0.04036769\",\n        //                               high: \"0.04062988\",\n        //                                low: \"0.03956123\",\n        //                                now: \"0.03970100\",\n        //                            firstId:  115567767,\n        //                             lastId:  115795316,\n        //                          dealCount:  14078,\n        //                    numberPrecision:  4,\n        //                     pricePrecision:  8,\n        //                                cny: \"1959.05\",\n        //                                usd: \"287.10\",\n        //                                krw: \"318655.82\"   },\n        //            time:    1535970397,\n        //       microtime:   \"0.76341900 1535970397\",\n        //          source:   \"api\"                             }\n        //\n        const ticker = this.parseTicker (response['data'], market);\n        const timestamp = this.parseMicrotime (this.safeString (response, 'microtime'));\n        return this.extend (ticker, {\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n        });\n    }\n\n    async fetchTickers (symbols = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {};\n        if (symbols !== undefined) {\n            const ids = this.marketIds (symbols);\n            request['symbols'] = ids.join (',');\n        }\n        const response = await this.marketGetTickerall (this.extend (request, params));\n        //\n        //     {    status:    200,\n        //             msg:   \"\",\n        //            data: {   ela_btc: {          symbol: \"ela_btc\",\n        //                                     quoteVolume: \"0.00\",\n        //                                          volume: \"3.28\",\n        //                                     priceChange: \"0.00\",\n        //                                  priceChange24h: \"0.00\",\n        //                                        askPrice: \"0.00147984\",\n        //                                          askQty: \"5.4580\",\n        //                                        bidPrice: \"0.00120230\",\n        //                                          bidQty: \"12.5384\",\n        //                                            open: \"0.00149078\",\n        //                                            high: \"0.00149078\",\n        //                                             low: \"0.00149078\",\n        //                                             now: \"0.00149078\",\n        //                                         firstId:  115581219,\n        //                                          lastId:  115581219,\n        //                                       dealCount:  1,\n        //                                 numberPrecision:  4,\n        //                                  pricePrecision:  8,\n        //                                             cny: \"73.66\",\n        //                                             usd: \"10.79\",\n        //                                             krw: \"11995.03\"    }     },\n        //            time:    1535971578,\n        //       microtime:   \"0.39854200 1535971578\",\n        //          source:   \"api\"                                                }\n        //\n        const tickers = this.safeValue (response, 'data');\n        const timestamp = this.parseMicrotime (this.safeString (response, 'microtime'));\n        const result = {};\n        const ids = Object.keys (tickers);\n        for (let i = 0; i < ids.length; i++) {\n            const id = ids[i];\n            let ticker = tickers[id];\n            let market = undefined;\n            if (id in this.markets_by_id) {\n                market = this.markets_by_id[id];\n            }\n            ticker = this.parseTicker (tickers[id], market);\n            let symbol = ticker['symbol'];\n            if (symbol === undefined) {\n                if (market !== undefined) {\n                    symbol = market['symbol'];\n                } else {\n                    const [ baseId, quoteId ] = id.split ('_');\n                    const base = this.safeCurrencyCode (baseId);\n                    const quote = this.safeCurrencyCode (quoteId);\n                    symbol = base + '/' + quote;\n                }\n            }\n            if (symbol !== undefined) {\n                result[symbol] = this.extend (ticker, {\n                    'timestamp': timestamp,\n                    'datetime': this.iso8601 (timestamp),\n                });\n            }\n        }\n        return this.filterByArray (result, 'symbol', symbols);\n    }\n\n    async fetchTime (params = {}) {\n        const response = await this.marketGetGetServerTime (params);\n        //\n        //     {\n        //         \"status\":200,\n        //         \"msg\":\"\",\n        //         \"data\":[],\n        //         \"time\":1555490875,\n        //         \"microtime\":\"0.35994200 1555490875\",\n        //         \"source\":\"api\"\n        //     }\n        //\n        return this.safeTimestamp (response, 'time');\n    }\n\n    async fetchOrderBook (symbol, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'symbol': this.marketId (symbol),\n        };\n        const response = await this.marketGetDepth (this.extend (request, params));\n        //\n        //     {    status:    200,\n        //             msg:   \"\",\n        //            data: {     asks: [ [\"10.00000000\", \"0.4426\", \"4.4260\"],\n        //                                [\"1.00000000\", \"0.8339\", \"0.8339\"],\n        //                                [\"0.91700000\", \"0.0500\", \"0.0458\"],\n        //                                [\"0.20000000\", \"0.1000\", \"0.0200\"],\n        //                                [\"0.03987120\", \"16.1262\", \"0.6429\"],\n        //                                [\"0.03986120\", \"9.7523\", \"0.3887\"]   ],\n        //                        bids: [ [\"0.03976145\", \"0.0359\", \"0.0014\"],\n        //                                [\"0.03973401\", \"20.9493\", \"0.8323\"],\n        //                                [\"0.03967970\", \"0.0328\", \"0.0013\"],\n        //                                [\"0.00000002\", \"10000.0000\", \"0.0002\"],\n        //                                [\"0.00000001\", \"231840.7500\", \"0.0023\"] ],\n        //                    coinPair:   \"eth_btc\"                                  },\n        //            time:    1535974778,\n        //       microtime:   \"0.04017400 1535974778\",\n        //          source:   \"api\"                                                     }\n        //\n        const orderbook = this.safeValue (response, 'data');\n        const timestamp = this.parseMicrotime (this.safeString (response, 'microtime'));\n        return this.parseOrderBook (orderbook, timestamp);\n    }\n\n    parseTrade (trade, market = undefined) {\n        //\n        // fetchTrades (public)\n        //\n        //    { id:  115807453,\n        //       t: \"19:36:24\",\n        //       T:  1535974584,\n        //       p: \"0.03983296\",\n        //       n: \"0.1000\",\n        //       s: \"buy\"         },\n        //\n        const id = this.safeString (trade, 'id');\n        const timestamp = this.safeTimestamp (trade, 'T');\n        let symbol = undefined;\n        if (market !== undefined) {\n            symbol = market['symbol'];\n        }\n        const price = this.safeFloat (trade, 'p');\n        const amount = this.safeFloat (trade, 'n');\n        let cost = undefined;\n        if (price !== undefined) {\n            if (amount !== undefined) {\n                cost = this.priceToPrecision (symbol, amount * price);\n            }\n        }\n        const side = this.safeString (trade, 's');\n        return {\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'symbol': symbol,\n            'id': id,\n            'order': undefined,\n            'type': 'limit',\n            'side': side,\n            'takerOrMaker': undefined,\n            'price': price,\n            'amount': amount,\n            'cost': cost,\n            'fee': undefined,\n            'info': trade,\n        };\n    }\n\n    async fetchTrades (symbol, since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'symbol': market['id'],\n        };\n        const response = await this.marketGetOrder (this.extend (request, params));\n        //\n        //     {    status:    200,\n        //             msg:   \"\",\n        //            data: [ { id:  115807453,\n        //                       t: \"19:36:24\",\n        //                       T:  1535974584,\n        //                       p: \"0.03983296\",\n        //                       n: \"0.1000\",\n        //                       s: \"buy\"         },\n        //                    { id:  115806811,\n        //                       t: \"19:33:19\",\n        //                       T:  1535974399,\n        //                       p: \"0.03981135\",\n        //                       n: \"9.4612\",\n        //                       s: \"sell\"        }  ],\n        //            time:    1535974583,\n        //       microtime:   \"0.57118100 1535974583\",\n        //          source:   \"api\"                     }\n        //\n        return this.parseTrades (response['data'], market, since, limit);\n    }\n\n    parseOHLCV (ohlcv, market = undefined) {\n        //\n        //     {\n        //         time: \"1535973420000\",\n        //         open: \"0.03975084\",\n        //         high: \"0.03975084\",\n        //         low: \"0.03967700\",\n        //         close: \"0.03967700\",\n        //         volume: \"12.4733\",\n        //         datetime: \"2018-09-03 19:17:00\"\n        //     }\n        //\n        return [\n            this.safeInteger (ohlcv, 'time'),\n            this.safeFloat (ohlcv, 'open'),\n            this.safeFloat (ohlcv, 'high'),\n            this.safeFloat (ohlcv, 'low'),\n            this.safeFloat (ohlcv, 'close'),\n            this.safeFloat (ohlcv, 'volume'),\n        ];\n    }\n\n    async fetchOHLCV (symbol, timeframe = '1m', since = undefined, limit = undefined, params = {}) {\n        await this.loadMarkets ();\n        const duration = this.parseTimeframe (timeframe) * 1000;\n        const market = this.market (symbol);\n        const request = {\n            'symbol': market['id'],\n            'resolution': this.timeframes[timeframe],\n        };\n        if (limit !== undefined) {\n            request['size'] = Math.min (limit, 300); // 1-300\n            if (since !== undefined) {\n                request['to'] = this.sum (since, limit * duration * 1000);\n            }\n        } else {\n            if (since !== undefined) {\n                throw new ArgumentsRequired (this.id + ' fetchOHLCV requires a limit argument if the since argument is specified');\n            }\n        }\n        const response = await this.marketGetKline (this.extend (request, params));\n        //\n        //     {\n        //         status: 200,\n        //         msg: \"\",\n        //         data: {\n        //             bars: [\n        //                 { time: \"1535973420000\", open: \"0.03975084\", high: \"0.03975084\", low: \"0.03967700\", close: \"0.03967700\", volume: \"12.4733\", datetime: \"2018-09-03 19:17:00\" },\n        //                 { time: \"1535955480000\", open: \"0.04009900\", high: \"0.04016745\", low: \"0.04009900\", close: \"0.04012074\", volume: \"74.4803\", datetime: \"2018-09-03 14:18:00\" },\n        //             ],\n        //             resolution: \"1min\",\n        //             symbol: \"eth_btc\",\n        //             from: \"1535973420000\",\n        //             to: \"1535955480000\",\n        //             size: 300\n        //         },\n        //         time: 1535973435,\n        //         microtime: \"0.56462100 1535973435\",\n        //         source: \"api\"\n        //     }\n        //\n        const data = this.safeValue (response, 'data', {});\n        const bars = this.safeValue (data, 'bars', []);\n        return this.parseOHLCVs (bars, market, timeframe, since, limit);\n    }\n\n    parseOrderStatus (status) {\n        const statuses = {\n            '0': 'open',\n            '1': 'open', // partially filled\n            '2': 'closed', // filled\n            '3': 'canceled',\n        };\n        return this.safeString (statuses, status, status);\n    }\n\n    parseOrder (order, market = undefined) {\n        //\n        // createOrder\n        //\n        //    {\n        //         \"id\": \"693248739\",   // order id\n        //         \"uId\": \"2074056\",    // uid\n        //         \"price\": \"100\",      // price\n        //         \"number\": \"10\",      // number\n        //         \"numberOver\": \"10\",  // undealed\n        //         \"flag\": \"sale\",      // flag\n        //         \"status\": \"0\",       // unfilled\n        //         \"coinFrom\": \"vtc\",\n        //         \"coinTo\": \"dkkt\",\n        //         \"numberDeal\": \"0\"    // dealed\n        //     }\n        //\n        const id = this.safeString (order, 'id');\n        let symbol = undefined;\n        if (market === undefined) {\n            const baseId = this.safeString (order, 'coinFrom');\n            const quoteId = this.safeString (order, 'coinTo');\n            if ((baseId !== undefined) && (quoteId !== undefined)) {\n                const marketId = baseId + '_' + quoteId;\n                if (marketId in this.markets_by_id) {\n                    market = this.safeValue (this.markets_by_id, marketId);\n                } else {\n                    const base = this.safeCurrencyCode (baseId);\n                    const quote = this.safeCurrencyCode (quoteId);\n                    symbol = base + '/' + quote;\n                }\n            }\n        }\n        if (market !== undefined) {\n            symbol = market['symbol'];\n        }\n        let side = this.safeString (order, 'flag');\n        if (side !== undefined) {\n            side = (side === 'sale') ? 'sell' : 'buy';\n        }\n        const price = this.safeFloat (order, 'price');\n        const amount = this.safeFloat (order, 'number');\n        const remaining = this.safeFloat (order, 'numberOver');\n        const filled = this.safeFloat (order, 'numberDeal');\n        let timestamp = this.safeInteger (order, 'timestamp');\n        if (timestamp === undefined) {\n            timestamp = this.safeTimestamp (order, 'created');\n        }\n        let cost = this.safeFloat (order, 'orderTotalPrice');\n        if (price !== undefined) {\n            if (filled !== undefined) {\n                cost = filled * price;\n            }\n        }\n        const status = this.parseOrderStatus (this.safeString (order, 'status'));\n        return {\n            'id': id,\n            'clientOrderId': undefined,\n            'datetime': this.iso8601 (timestamp),\n            'timestamp': timestamp,\n            'lastTradeTimestamp': undefined,\n            'status': status,\n            'symbol': symbol,\n            'type': 'limit',\n            'timeInForce': undefined,\n            'postOnly': undefined,\n            'side': side,\n            'price': price,\n            'stopPrice': undefined,\n            'cost': cost,\n            'amount': amount,\n            'filled': filled,\n            'remaining': remaining,\n            'trades': undefined,\n            'fee': undefined,\n            'info': order,\n            'average': undefined,\n        };\n    }\n\n    async createOrder (symbol, type, side, amount, price = undefined, params = {}) {\n        await this.loadMarkets ();\n        if (type !== 'limit') {\n            throw new ExchangeError (this.id + ' createOrder allows limit orders only');\n        }\n        const market = this.market (symbol);\n        const orderType = (side === 'buy') ? '1' : '2';\n        if (!this.password) {\n            throw new ExchangeError (this.id + ' createOrder() requires you to set exchange.password = \"YOUR_TRADING_PASSWORD\" (a trade password is NOT THE SAME as your login password)');\n        }\n        const request = {\n            'symbol': market['id'],\n            'type': orderType,\n            'price': this.priceToPrecision (symbol, price),\n            'number': this.amountToPrecision (symbol, amount),\n            'tradePwd': this.password,\n        };\n        const response = await this.tradePostAddEntrustSheet (this.extend (request, params));\n        //\n        //     {\n        //         \"status\": 200,\n        //         \"msg\": \"\",\n        //         \"data\": {\n        //             \"id\": \"693248739\",   // order id\n        //             \"uId\": \"2074056\",    // uid\n        //             \"price\": \"100\",      // price\n        //             \"number\": \"10\",      // number\n        //             \"numberOver\": \"10\",  // undealed\n        //             \"flag\": \"sale\",      // flag\n        //             \"status\": \"0\",       // unfilled\n        //             \"coinFrom\": \"vtc\",\n        //             \"coinTo\": \"dkkt\",\n        //             \"numberDeal\": \"0\"    // dealed\n        //         },\n        //         \"time\": \"1533035297\",\n        //         \"microtime\": \"0.41892000 1533035297\",\n        //         \"source\": \"api\",\n        //     }\n        //\n        const timestamp = this.parseMicrotime (this.safeString (response, 'microtime'));\n        const order = this.extend ({\n            'timestamp': timestamp,\n        }, response['data']);\n        return this.parseOrder (order, market);\n    }\n\n    async cancelOrder (id, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'entrustSheetId': id,\n        };\n        const response = await this.tradePostCancelEntrustSheet (this.extend (request, params));\n        //\n        //     {\n        //         \"status\":200,\n        //         \"msg\":\"\",\n        //         \"data\":{\n        //             \"updateAssetsData\":{\n        //                 \"coin\":\"bz\",\n        //                 \"over\":\"1000.00000000\",\n        //                 \"lock\":\"-1000.00000000\"\n        //             },\n        //             \"assetsInfo\":{\n        //                 \"coin\":\"bz\",\n        //                 \"over\":\"9999.99999999\",\n        //                 \"lock\":\"9999.99999999\"\n        //             }\n        //         },\n        //         \"time\":\"1535464383\",\n        //         \"microtime\":\"0.91558000 1535464383\",\n        //         \"source\":\"api\"\n        //     }\n        //\n        return response;\n    }\n\n    async cancelOrders (ids, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'ids': ids.join (','),\n        };\n        const response = await this.tradePostCancelEntrustSheet (this.extend (request, params));\n        //\n        //     {\n        //         \"status\":200,\n        //         \"msg\":\"\",\n        //         \"data\":{\n        //             \"744173808\":{\n        //                 \"updateAssetsData\":{\n        //                     \"coin\":\"bz\",\n        //                     \"over\":\"100.00000000\",\n        //                     \"lock\":\"-100.00000000\"\n        //                 },\n        //                 \"assetsInfo\":{\n        //                     \"coin\":\"bz\",\n        //                     \"over\":\"899.99999999\",\n        //                     \"lock\":\"19099.99999999\"\n        //                 }\n        //             },\n        //             \"744173809\":{\n        //                 \"updateAssetsData\":{\n        //                     \"coin\":\"bz\",\n        //                     \"over\":\"100.00000000\",\n        //                     \"lock\":\"-100.00000000\"\n        //                 },\n        //                 \"assetsInfo\":{\n        //                     \"coin\":\"bz\",\n        //                     \"over\":\"999.99999999\",\n        //                     \"lock\":\"18999.99999999\"\n        //                 }\n        //             }\n        //         },\n        //         \"time\":\"1535525649\",\n        //         \"microtime\":\"0.05009400 1535525649\",\n        //         \"source\":\"api\"\n        //     }\n        //\n        return response;\n    }\n\n    async fetchOrder (id, symbol = undefined, params = {}) {\n        await this.loadMarkets ();\n        const request = {\n            'entrustSheetId': id,\n        };\n        const response = await this.tradePostGetEntrustSheetInfo (this.extend (request, params));\n        //\n        //     {\n        //         \"status\":200,\n        //         \"msg\":\"\",\n        //         \"data\":{\n        //             \"id\":\"708279852\",\n        //             \"uId\":\"2074056\",\n        //             \"price\":\"100.00000000\",\n        //             \"number\":\"10.0000\",\n        //             \"total\":\"0.00000000\",\n        //             \"numberOver\":\"10.0000\",\n        //             \"numberDeal\":\"0.0000\",\n        //             \"flag\":\"sale\",\n        //             \"status\":\"0\",  //0:unfilled, 1:partial deal, 2:all transactions, 3:already cancelled\n        //             \"coinFrom\":\"bz\",\n        //             \"coinTo\":\"usdt\",\n        //             \"orderTotalPrice\":\"0\",\n        //             \"created\":\"1533279876\"\n        //         },\n        //         \"time\":\"1533280294\",\n        //         \"microtime\":\"0.36859200 1533280294\",\n        //         \"source\":\"api\"\n        //     }\n        //\n        return this.parseOrder (response['data']);\n    }\n\n    async fetchOrdersWithMethod (method, symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        if (symbol === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchOpenOrders requires a symbol argument');\n        }\n        await this.loadMarkets ();\n        const market = this.market (symbol);\n        const request = {\n            'coinFrom': market['baseId'],\n            'coinTo': market['quoteId'],\n            // 'type': 1, // optional integer, 1 = buy, 2 = sell\n            // 'page': 1, // optional integer\n            // 'pageSize': 100, // optional integer, max 100\n            // 'startTime': 1510235730, // optional integer timestamp in seconds\n            // 'endTime': 1510235730, // optional integer timestamp in seconds\n        };\n        if (limit !== undefined) {\n            request['page'] = 1;\n            request['pageSize'] = limit;\n        }\n        if (since !== undefined) {\n            request['startTime'] = parseInt (since / 1000);\n            // request['endTime'] = parseInt (since / 1000);\n        }\n        const response = await this[method] (this.extend (request, params));\n        //\n        //     {\n        //         \"status\": 200,\n        //         \"msg\": \"\",\n        //         \"data\": {\n        //             \"data\": [\n        //                 {\n        //                     \"id\": \"693248739\",\n        //                     \"uid\": \"2074056\",\n        //                     \"price\": \"100.00000000\",\n        //                     \"number\": \"10.0000\",\n        //                     \"total\": \"0.00000000\",\n        //                     \"numberOver\": \"0.0000\",\n        //                     \"numberDeal\": \"0.0000\",\n        //                     \"flag\": \"sale\",\n        //                     \"status\": \"3\", // 0:unfilled, 1:partial deal, 2:all transactions, 3:already cancelled\n        //                     \"isNew\": \"N\",\n        //                     \"coinFrom\": \"vtc\",\n        //                     \"coinTo\": \"dkkt\",\n        //                     \"created\": \"1533035300\",\n        //                 },\n        //                 {\n        //                     \"id\": \"723086996\",\n        //                     \"uid\": \"2074056\",\n        //                     \"price\": \"100.00000000\",\n        //                     \"number\": \"10.0000\",\n        //                     \"total\": \"0.00000000\",\n        //                     \"numberOver\": \"0.0000\",\n        //                     \"numberDeal\": \"0.0000\",\n        //                     \"flag\": \"sale\",\n        //                     \"status\": \"3\",\n        //                     \"isNew\": \"N\",\n        //                     \"coinFrom\": \"bz\",\n        //                     \"coinTo\": \"usdt\",\n        //                     \"created\": \"1533523568\",\n        //                 },\n        //             ],\n        //             \"pageInfo\": {\n        //                 \"limit\": \"10\",\n        //                 \"offest\": \"0\",\n        //                 \"current_page\": \"1\",\n        //                 \"page_size\": \"10\",\n        //                 \"total_count\": \"17\",\n        //                 \"page_count\": \"2\",\n        //             }\n        //         },\n        //         \"time\": \"1533279329\",\n        //         \"microtime\": \"0.15305300 1533279329\",\n        //         \"source\": \"api\"\n        //     }\n        //\n        const orders = this.safeValue (response['data'], 'data', []);\n        return this.parseOrders (orders, undefined, since, limit);\n    }\n\n    async fetchOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        return await this.fetchOrdersWithMethod ('tradePostGetUserHistoryEntrustSheet', symbol, since, limit, params);\n    }\n\n    async fetchOpenOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        return await this.fetchOrdersWithMethod ('tradePostGetUserNowEntrustSheet', symbol, since, limit, params);\n    }\n\n    async fetchClosedOrders (symbol = undefined, since = undefined, limit = undefined, params = {}) {\n        return await this.fetchOrdersWithMethod ('tradePostGetUserHistoryEntrustSheet', symbol, since, limit, params);\n    }\n\n    parseTransactionStatus (status) {\n        const statuses = {\n            '1': 'pending',\n            '2': 'pending',\n            '3': 'pending',\n            '4': 'ok',\n            '5': 'canceled',\n        };\n        return this.safeString (statuses, status, status);\n    }\n\n    parseTransaction (transaction, currency = undefined) {\n        //\n        //     {\n        //         \"id\": '96275',\n        //         \"uid\": '2109073',\n        //         \"wallet\": '0xf4c4141c0127bc37b1d0c409a091920eba13ada7',\n        //         \"txid\": '0xb7adfa52aa566f9ac112e3c01f77bd91179b19eab12092a9a5a8b33d5086e31d',\n        //         \"confirm\": '12',\n        //         \"number\": '0.50000000',\n        //         \"status\": 4,\n        //         \"updated\": '1534944168605',\n        //         \"addressUrl\": 'https://etherscan.io/address/',\n        //         \"txidUrl\": 'https://etherscan.io/tx/',\n        //         \"description\": 'Ethereum',\n        //         \"coin\": 'eth',\n        //         \"memo\": ''\n        //     }\n        //\n        //     {\n        //         \"id\":\"397574\",\n        //         \"uid\":\"2033056\",\n        //         \"wallet\":\"1AG1gZvQAYu3WBvgg7p4BMMghQD2gE693k\",\n        //         \"txid\":\"\",\n        //         \"confirm\":\"0\",\n        //         \"number\":\"1000.00000000\",\n        //         \"status\":1,\n        //         \"updated\":\"0\",\n        //         \"addressUrl\":\"http://omniexplorer.info/lookupadd.aspx?address=\",\n        //         \"txidUrl\":\"http://omniexplorer.info/lookuptx.aspx?txid=\",\n        //         \"description\":\"Tether\",\n        //         \"coin\":\"usdt\",\n        //         \"memo\":\"\"\n        //     }\n        //\n        //     {\n        //         \"id\":\"153606\",\n        //         \"uid\":\"2033056\",\n        //         \"wallet\":\"1AG1gZvQAYu3WBvgg7p4BMMghQD2gE693k\",\n        //         \"txid\":\"aa2b179f84cd6dedafd41845e0fbf7f01e14c0d71ea3140d03d6f5a9ccd93199\",\n        //         \"confirm\":\"0\",\n        //         \"number\":\"761.11110000\",\n        //         \"status\":4,\n        //         \"updated\":\"1536726133579\",\n        //         \"addressUrl\":\"http://omniexplorer.info/lookupadd.aspx?address=\",\n        //         \"txidUrl\":\"http://omniexplorer.info/lookuptx.aspx?txid=\",\n        //         \"description\":\"Tether\",\n        //         \"coin\":\"usdt\",\n        //         \"memo\":\"\"\n        //     }\n        //\n        // withdraw\n        //\n        //     {\n        //         \"id\":397574,\n        //         \"email\":\"***@email.com\",\n        //         \"coin\":\"usdt\",\n        //         \"network_fee\":\"\",\n        //         \"eid\":23112\n        //     }\n        //\n        let timestamp = this.safeInteger (transaction, 'updated');\n        if (timestamp === 0) {\n            timestamp = undefined;\n        }\n        const currencyId = this.safeString (transaction, 'coin');\n        const code = this.safeCurrencyCode (currencyId, currency);\n        const type = this.safeStringLower (transaction, 'type');\n        const status = this.parseTransactionStatus (this.safeString (transaction, 'status'));\n        let fee = undefined;\n        const feeCost = this.safeFloat (transaction, 'network_fee');\n        if (feeCost !== undefined) {\n            fee = {\n                'cost': feeCost,\n                'code': code,\n            };\n        }\n        return {\n            'id': this.safeString (transaction, 'id'),\n            'txid': this.safeString (transaction, 'txid'),\n            'timestamp': timestamp,\n            'datetime': this.iso8601 (timestamp),\n            'address': this.safeString (transaction, 'wallet'),\n            'tag': this.safeString (transaction, 'memo'),\n            'type': type,\n            'amount': this.safeFloat (transaction, 'number'),\n            'currency': code,\n            'status': status,\n            'updated': timestamp,\n            'fee': fee,\n            'info': transaction,\n        };\n    }\n\n    parseTransactionsByType (type, transactions, code = undefined, since = undefined, limit = undefined) {\n        const result = [];\n        for (let i = 0; i < transactions.length; i++) {\n            const transaction = this.parseTransaction (this.extend ({\n                'type': type,\n            }, transactions[i]));\n            result.push (transaction);\n        }\n        return this.filterByCurrencySinceLimit (result, code, since, limit);\n    }\n\n    parseTransactionType (type) {\n        const types = {\n            'deposit': 1,\n            'withdrawal': 2,\n        };\n        return this.safeInteger (types, type, type);\n    }\n\n    async fetchDeposits (code = undefined, since = undefined, limit = undefined, params = {}) {\n        return await this.fetchTransactionsForType ('deposit', code, since, limit, params);\n    }\n\n    async fetchWithdrawals (code = undefined, since = undefined, limit = undefined, params = {}) {\n        return await this.fetchTransactionsForType ('withdrawal', code, since, limit, params);\n    }\n\n    async fetchTransactionsForType (type, code = undefined, since = undefined, limit = undefined, params = {}) {\n        if (code === undefined) {\n            throw new ArgumentsRequired (this.id + ' fetchTransactions() requires a currency `code` argument');\n        }\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'coin': currency['id'],\n            'type': this.parseTransactionType (type),\n        };\n        if (since !== undefined) {\n            request['startTime'] = parseInt (since / 1000).toString ();\n        }\n        if (limit !== undefined) {\n            request['page'] = 1;\n            request['pageSize'] = limit;\n        }\n        const response = await this.tradePostDepositOrWithdraw (this.extend (request, params));\n        const transactions = this.safeValue (response['data'], 'data', []);\n        return this.parseTransactionsByType (type, transactions, code, since, limit);\n    }\n\n    async withdraw (code, amount, address, tag = undefined, params = {}) {\n        this.checkAddress (address);\n        await this.loadMarkets ();\n        const currency = this.currency (code);\n        const request = {\n            'coin': currency['id'],\n            'number': this.currencyToPrecision (code, amount),\n            'address': address,\n            // 'type': 'erc20', // omni, trc20, optional\n        };\n        if (tag !== undefined) {\n            request['memo'] = tag;\n        }\n        const response = await this.tradePostCoinOut (this.extend (request, params));\n        //\n        //     {\n        //         \"status\":200,\n        //         \"msg\":\"\",\n        //         \"data\":{\n        //             \"id\":397574,\n        //             \"email\":\"***@email.com\",\n        //             \"coin\":\"usdt\",\n        //             \"network_fee\":\"\",\n        //             \"eid\":23112\n        //         },\n        //         \"time\":1552641646,\n        //         \"microtime\":\"0.70304500 1552641646\",\n        //         \"source\":\"api\"\n        //     }\n        //\n        const data = this.safeValue (response, 'data', {});\n        return this.parseTransaction (data, currency);\n    }\n\n    nonce () {\n        const currentTimestamp = this.seconds ();\n        if (currentTimestamp > this.options['lastNonceTimestamp']) {\n            this.options['lastNonceTimestamp'] = currentTimestamp;\n            this.options['lastNonce'] = 100000;\n        }\n        this.options['lastNonce'] = this.sum (this.options['lastNonce'], 1);\n        return this.options['lastNonce'];\n    }\n\n    sign (path, api = 'market', method = 'GET', params = {}, headers = undefined, body = undefined) {\n        const baseUrl = this.implodeParams (this.urls['api'][api], { 'hostname': this.hostname });\n        let url = baseUrl + '/' + this.capitalize (api) + '/' + path;\n        let query = undefined;\n        if (api === 'market') {\n            query = this.urlencode (params);\n            if (query.length) {\n                url += '?' + query;\n            }\n        } else {\n            this.checkRequiredCredentials ();\n            body = this.rawencode (this.keysort (this.extend ({\n                'apiKey': this.apiKey,\n                'timeStamp': this.seconds (),\n                'nonce': this.nonce (),\n            }, params)));\n            body += '&sign=' + this.hash (this.encode (body + this.secret));\n            headers = { 'Content-type': 'application/x-www-form-urlencoded' };\n        }\n        return { 'url': url, 'method': method, 'body': body, 'headers': headers };\n    }\n\n    handleErrors (httpCode, reason, url, method, headers, body, response, requestHeaders, requestBody) {\n        if (response === undefined) {\n            return; // fallback to default error handler\n        }\n        const status = this.safeString (response, 'status');\n        if (status !== undefined) {\n            const feedback = this.id + ' ' + body;\n            //\n            //     {\"status\":-107,\"msg\":\"\",\"data\":\"\",\"time\":1535968848,\"microtime\":\"0.89092200 1535968848\",\"source\":\"api\"}\n            //\n            if (status === '200') {\n                //\n                //     {\"status\":200,\"msg\":\"\",\"data\":-200031,\"time\":1535999806,\"microtime\":\"0.85476800 1535999806\",\"source\":\"api\"}\n                //\n                const code = this.safeInteger (response, 'data');\n                if (code !== undefined) {\n                    this.throwExactlyMatchedException (this.exceptions, code, feedback);\n                    throw new ExchangeError (feedback);\n                } else {\n                    return; // no error\n                }\n            }\n            this.throwExactlyMatchedException (this.exceptions, status, feedback);\n            throw new ExchangeError (feedback);\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"script"}